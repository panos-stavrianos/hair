(function(){var r;r=function(r,e,a){var t,n,o,d,l,i,s;if(null!=(n=e.find(function(r){return r.node===a.triggerRow.node()}))&&(t=$(r.currentTarget),l=$("<div>"+n.oldData+"</div>").find("input[data-reorder-resource]"),d=$("<div>"+n.newData+"</div>").find("input[data-reorder-resource]"),null!=l&&null!=d))return i=this.context[0].ajax.url.replace(".json","/reorder.json"),o={"reorder[id]":l.data("reorder-resource"),"reorder[old]":l.val(),"reorder[new]":d.val(),attributes:t.data("attributes")},this.context[0].rowreorder.c.enable=!1,$.ajax({method:"post",url:i,data:o,async:!1}).fail(function(e,a,t){return $(r.target).closest("table").DataTable().flash(t,"danger")}).always((s=this,function(){return s.context[0].rowreorder.c.enable=!0}))},$.fn.DataTable.Api.register("reorder()",r),$(document).on("click",".dataTables_wrapper a.buttons-reorder",function(r){var e,a;if(r.preventDefault(),(a=(e=$(r.currentTarget).closest(".dataTables_wrapper").find("table.dataTable").first()).DataTable().column(".col-_reorder")).length>0)return a.visible()?e.removeClass("reordering"):e.addClass("reordering"),a.visible(!a.visible())})}).call(this);