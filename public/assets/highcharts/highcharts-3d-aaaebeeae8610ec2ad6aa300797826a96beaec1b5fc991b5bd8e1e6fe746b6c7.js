"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e,i,o;!function(t){function e(t,e,i,o){return{x:o.cosB*t-o.sinB*i,y:-o.sinA*o.sinB*t+o.cosA*e-o.cosB*o.sinA*i,z:o.cosA*o.sinB*t+o.sinA*e+o.cosA*o.cosB*i}}function i(t,e,i){var o=i>0&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*o,y:t.y*o}}var o=t.deg2rad,s=t.pick;t.perspective=function(r,a,n){var l=a.options.chart.options3d,h=!!n&&a.inverted,p={x:a.plotWidth/2,y:a.plotHeight/2,z:l.depth/2,vd:s(l.depth,1)*s(l.viewDistance,0)},c=a.scale3d||1,y=o*l.beta*(h?-1:1),x=o*l.alpha*(h?-1:1),d={cosA:Math.cos(x),cosB:Math.cos(-y),sinA:Math.sin(x),sinB:Math.sin(-y)};return n||(p.x+=a.plotLeft,p.y+=a.plotTop),t.map(r,function(t){var o=e((h?t.y:t.x)-p.x,(h?t.x:t.y)-p.y,(t.z||0)-p.z,d),s=i(o,p,p.vd);return s.x=s.x*c+p.x,s.y=s.y*c+p.y,s.z=o.z*c+p.z,{x:h?s.y:s.x,y:h?s.x:s.y,z:s.z}})},t.pointCameraDistance=function(t,e){var i=e.options.chart.options3d,o={x:e.plotWidth/2,y:e.plotHeight/2,z:s(i.depth,1)*s(i.viewDistance,0)+i.depth};return Math.sqrt(Math.pow(o.x-t.plotX,2)+Math.pow(o.y-t.plotY,2)+Math.pow(o.z-t.plotZ,2))},t.shapeArea=function(t){var e,i,o=0;for(e=0;e<t.length;e++)i=(e+1)%t.length,o+=t[e].x*t[i].y-t[i].x*t[e].y;return o/2},t.shapeArea3d=function(e,i,o){return t.shapeArea(t.perspective(e,i,o))}}(t),function(t){function e(t,i,o,s,r,a,n,l){var h=[],p=a-r;return a>r&&a-r>Math.PI/2+1e-4?h=(h=h.concat(e(t,i,o,s,r,r+Math.PI/2,n,l))).concat(e(t,i,o,s,r+Math.PI/2,a,n,l)):a<r&&r-a>Math.PI/2+1e-4?h=(h=h.concat(e(t,i,o,s,r,r-Math.PI/2,n,l))).concat(e(t,i,o,s,r-Math.PI/2,a,n,l)):["C",t+o*Math.cos(r)-o*g*p*Math.sin(r)+n,i+s*Math.sin(r)+s*g*p*Math.cos(r)+l,t+o*Math.cos(a)+o*g*p*Math.sin(a)+n,i+s*Math.sin(a)-s*g*p*Math.cos(a)+l,t+o*Math.cos(a)+n,i+s*Math.sin(a)+l]}var i=Math.cos,o=Math.PI,s=Math.sin,r=t.animObject,a=t.charts,n=t.color,l=t.defined,h=t.deg2rad,p=t.each,c=t.extend,y=t.inArray,x=t.map,d=t.merge,f=t.perspective,z=t.pick,u=t.SVGElement,b=t.SVGRenderer,v=t.wrap,g=4*(Math.sqrt(2)-1)/3/(o/2);b.prototype.toLinePath=function(t,e){var i=[];return p(t,function(t){i.push("L",t.x,t.y)}),t.length&&(i[0]="M",e&&i.push("Z")),i},b.prototype.toLineSegments=function(t){var e=[],i=!0;return p(t,function(t){e.push(i?"M":"L",t.x,t.y),i=!i}),e},b.prototype.face3d=function(e){var i=this,o=this.createElement("path");return o.vertexes=[],o.insidePlotArea=!1,o.enabled=!0,v(o,"attr",function(e,o){if("object"==typeof o&&(l(o.enabled)||l(o.vertexes)||l(o.insidePlotArea))){this.enabled=z(o.enabled,this.enabled),this.vertexes=z(o.vertexes,this.vertexes),this.insidePlotArea=z(o.insidePlotArea,this.insidePlotArea),delete o.enabled,delete o.vertexes,delete o.insidePlotArea;var s=a[i.chartIndex],r=f(this.vertexes,s,this.insidePlotArea),n=i.toLinePath(r,!0),h=t.shapeArea(r),p=this.enabled&&h>0?"visible":"hidden";o.d=n,o.visibility=p}return e.apply(this,[].slice.call(arguments,1))}),v(o,"animate",function(e,o){if("object"==typeof o&&(l(o.enabled)||l(o.vertexes)||l(o.insidePlotArea))){this.enabled=z(o.enabled,this.enabled),this.vertexes=z(o.vertexes,this.vertexes),this.insidePlotArea=z(o.insidePlotArea,this.insidePlotArea),delete o.enabled,delete o.vertexes,delete o.insidePlotArea;var s=a[i.chartIndex],r=f(this.vertexes,s,this.insidePlotArea),n=i.toLinePath(r,!0),h=t.shapeArea(r),p=this.enabled&&h>0?"visible":"hidden";o.d=n,this.attr("visibility",p)}return e.apply(this,[].slice.call(arguments,1))}),o.attr(e)},b.prototype.polyhedron=function(t){var e=this,i=this.g(),o=i.destroy;return i.attr({"stroke-linejoin":"round"}),i.faces=[],i.destroy=function(){for(var t=0;t<i.faces.length;t++)i.faces[t].destroy();return o.call(this)},v(i,"attr",function(t,o,s,r,a){if("object"==typeof o&&l(o.faces)){for(;i.faces.length>o.faces.length;)i.faces.pop().destroy();for(;i.faces.length<o.faces.length;)i.faces.push(e.face3d().add(i));for(var n=0;n<o.faces.length;n++)i.faces[n].attr(o.faces[n],null,r,a);delete o.faces}return t.apply(this,[].slice.call(arguments,1))}),v(i,"animate",function(t,o,s,r){if(o&&o.faces){for(;i.faces.length>o.faces.length;)i.faces.pop().destroy();for(;i.faces.length<o.faces.length;)i.faces.push(e.face3d().add(i));for(var a=0;a<o.faces.length;a++)i.faces[a].animate(o.faces[a],s,r);delete o.faces}return t.apply(this,[].slice.call(arguments,1))}),i.attr(t)},b.prototype.cuboid=function(t){var e=this.g(),i=e.destroy,o=this.cuboidPath(t);return e.attr({"stroke-linejoin":"round"}),e.front=this.path(o[0]).attr({"class":"highcharts-3d-front"}).add(e),e.top=this.path(o[1]).attr({"class":"highcharts-3d-top"}).add(e),e.side=this.path(o[2]).attr({"class":"highcharts-3d-side"}).add(e),e.fillSetter=function(t){return this.front.attr({fill:t}),this.top.attr({fill:n(t).brighten(.1).get()}),this.side.attr({fill:n(t).brighten(-.1).get()}),this.color=t,e.fill=t,this},e.opacitySetter=function(t){return this.front.attr({opacity:t}),this.top.attr({opacity:t}),this.side.attr({opacity:t}),this},e.attr=function(t,e,i,o){if("string"==typeof t&&void 0!==e){var s=t;(t={})[s]=e}if(!t.shapeArgs&&!l(t.x))return u.prototype.attr.call(this,t,undefined,i,o);var r=t.shapeArgs||t,a=this.renderer.cuboidPath(r);return this.front.attr({d:a[0]}),this.top.attr({d:a[1]}),this.side.attr({d:a[2]}),this},e.animate=function(t,e,i){if(l(t.x)&&l(t.y)){var o=this.renderer.cuboidPath(t);this.front.animate({d:o[0]},e,i),this.top.animate({d:o[1]},e,i),this.side.animate({d:o[2]},e,i),this.attr({zIndex:-o[3]})}else t.opacity?(this.front.animate(t,e,i),this.top.animate(t,e,i),this.side.animate(t,e,i)):u.prototype.animate.call(this,t,e,i);return this},e.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),i.call(this)},e.attr({zIndex:-o[3]}),e},t.SVGRenderer.prototype.cuboidPath=function(e){function i(t){return k[t]}var o,s,r,n,l,h,p,c=e.x,y=e.y,d=e.z,z=e.height,u=e.width,b=e.depth,v=a[this.chartIndex],g=v.options.chart.options3d.alpha,m=1e4,M=10,A=100,P=0,k=[{x:c,y:y,z:d},{x:c+u,y:y,z:d},{x:c+u,y:y+z,z:d},{x:c,y:y+z,z:d},{x:c,y:y+z,z:d+b},{x:c+u,y:y+z,z:d+b},{x:c+u,y:y,z:d+b},{x:c,y:y,z:d+b}];k=f(k,v,e.insidePlotArea);var L=function(e,o){var s=[[],-1];return e=x(e,i),o=x(o,i),t.shapeArea(e)<0?s=[e,0]:t.shapeArea(o)<0&&(s=[o,1]),s};return s=(o=L([3,2,1,0],[7,6,5,4]))[0],l=o[1],r=(o=L([1,6,7,0],[4,5,2,3]))[0],h=o[1],n=(o=L([1,2,5,6],[0,7,4,3]))[0],1===(p=o[1])?P+=m*(1e3-c):p||(P+=m*c),P+=M*(!h||g>=0&&g<=180||g<360&&g>357.5?v.plotHeight-y:10+y),1===l?P+=A*d:l||(P+=A*(1e3-d)),P=-Math.round(P),[this.toLinePath(s,!0),this.toLinePath(r,!0),this.toLinePath(n,!0),P]},t.SVGRenderer.prototype.arc3d=function(t){function e(t){var e=!1,i={};for(var o in t=d(t))-1!==y(o,s)&&(i[o]=t[o],delete t[o],e=!0);return!!e&&i}var i=this.g(),o=i.renderer,s=["x","y","r","innerR","start","end"];return(t=d(t)).alpha*=h,t.beta*=h,i.top=o.path(),i.side1=o.path(),i.side2=o.path(),i.inn=o.path(),i.out=o.path(),i.onAdd=function(){var t=i.parentGroup,e=i.attr("class");i.top.add(i),p(["out","inn","side1","side2"],function(o){i[o].attr({"class":e+" highcharts-3d-side"}).add(t)})},p(["addClass","removeClass"],function(t){i[t]=function(){var e=arguments;p(["top","out","inn","side1","side2"],function(o){i[o][t].apply(i[o],e)})}}),i.setPaths=function(t){var e=i.renderer.arc3dPath(t),o=100*e.zTop;i.attribs=t,i.top.attr({d:e.top,zIndex:e.zTop}),i.inn.attr({d:e.inn,zIndex:e.zInn}),i.out.attr({d:e.out,zIndex:e.zOut}),i.side1.attr({d:e.side1,zIndex:e.zSide1}),i.side2.attr({d:e.side2,zIndex:e.zSide2}),i.zIndex=o,i.attr({zIndex:o}),t.center&&(i.top.setRadialReference(t.center),delete t.center)},i.setPaths(t),i.fillSetter=function(t){var e=n(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},p(["opacity","translateX","translateY","visibility"],function(t){i[t+"Setter"]=function(t,e){i[e]=t,p(["out","inn","side1","side2","top"],function(o){i[o].attr(e,t)})}}),v(i,"attr",function(t,o){var s;return"object"==typeof o&&(s=e(o))&&(c(i.attribs,s),i.setPaths(i.attribs)),t.apply(this,[].slice.call(arguments,1))}),v(i,"animate",function(t,i,o,s){var a,n,l,h=this.attribs;return delete i.center,delete i.z,delete i.depth,delete i.alpha,delete i.beta,(l=r(z(o,this.renderer.globalAnimation))).duration&&(a=e(i),i.dummy=1,a&&(n=a,l.step=function(t,e){function i(t){return h[t]+(z(n[t],h[t])-h[t])*e.pos}"dummy"===e.prop&&e.elem.setPaths(d(h,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end")}))}),o=l),t.call(this,i,o,s)}),i.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),u.prototype.destroy.call(this)},i.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},i.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},i},b.prototype.arc3dPath=function(t){function r(t){return(t%=2*Math.PI)>Math.PI&&(t=2*Math.PI-t),t}var a=t.x,n=t.y,l=t.start,h=t.end-1e-5,p=t.r,c=t.innerR,y=t.depth,x=t.alpha,d=t.beta,f=Math.cos(l),z=Math.sin(l),u=Math.cos(h),b=Math.sin(h),v=p*Math.cos(d),g=p*Math.cos(x),m=c*Math.cos(d),M=c*Math.cos(x),A=y*Math.sin(d),P=y*Math.sin(x),k=["M",a+v*f,n+g*z];k=(k=(k=(k=k.concat(e(a,n,v,g,l,h,0,0))).concat(["L",a+m*u,n+M*b])).concat(e(a,n,m,M,h,l,0,0))).concat(["Z"]);var L=d>0?Math.PI/2:0,S=x>0?0:Math.PI/2,I=l>-L?l:h>-L?-L:l,w=h<o-S?h:l<o-S?o-S:h,D=2*o-S,F=["M",a+v*i(I),n+g*s(I)];F=F.concat(e(a,n,v,g,I,w,0,0)),h>D&&l<D?F=(F=(F=(F=(F=(F=(F=(F=F.concat(["L",a+v*i(w)+A,n+g*s(w)+P])).concat(e(a,n,v,g,w,D,A,P))).concat(["L",a+v*i(D),n+g*s(D)])).concat(e(a,n,v,g,D,h,0,0))).concat(["L",a+v*i(h)+A,n+g*s(h)+P])).concat(e(a,n,v,g,h,D,A,P))).concat(["L",a+v*i(D),n+g*s(D)])).concat(e(a,n,v,g,D,w,0,0)):h>o-S&&l<o-S&&(F=(F=(F=(F=F.concat(["L",a+v*Math.cos(w)+A,n+g*Math.sin(w)+P])).concat(e(a,n,v,g,w,h,A,P))).concat(["L",a+v*Math.cos(h),n+g*Math.sin(h)])).concat(e(a,n,v,g,h,w,0,0))),F=(F=(F=F.concat(["L",a+v*Math.cos(w)+A,n+g*Math.sin(w)+P])).concat(e(a,n,v,g,w,I,A,P))).concat(["Z"]);var Y=["M",a+m*f,n+M*z];Y=(Y=(Y=(Y=Y.concat(e(a,n,m,M,l,h,0,0))).concat(["L",a+m*Math.cos(h)+A,n+M*Math.sin(h)+P])).concat(e(a,n,m,M,h,l,A,P))).concat(["Z"]);var X=["M",a+v*f,n+g*z,"L",a+v*f+A,n+g*z+P,"L",a+m*f+A,n+M*z+P,"L",a+m*f,n+M*z,"Z"],Z=["M",a+v*u,n+g*b,"L",a+v*u+A,n+g*b+P,"L",a+m*u+A,n+M*b+P,"L",a+m*u,n+M*b,"Z"],T=Math.atan2(P,-A),V=Math.abs(h+T),W=Math.abs(l+T),C=Math.abs((l+h)/2+T);V=r(V),W=r(W);var G=1e5,O=(C=r(C))*G,R=W*G,B=V*G;return{top:k,zTop:Math.PI*G+1,out:F,zOut:Math.max(O,R,B),inn:Y,zInn:Math.max(O,R,B),side1:X,zSide1:.99*B,side2:Z,zSide2:.99*R}}}(t),function(t){function e(t,e){var i,s=t.plotLeft,a=t.plotWidth+s,n=t.plotTop,l=t.plotHeight+n,h=s+t.plotWidth/2,p=n+t.plotHeight/2,c={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},y=1;return i=[{x:s,y:n,z:0},{x:s,y:n,z:e}],o([0,1],function(t){i.push({x:a,y:i[t].y,z:i[t].z})}),o([0,1,2,3],function(t){i.push({x:i[t].x,y:l,z:i[t].z})}),i=r(i,t,!1),o(i,function(t){c.minX=Math.min(c.minX,t.x),c.maxX=Math.max(c.maxX,t.x),c.minY=Math.min(c.minY,t.y),c.maxY=Math.max(c.maxY,t.y)}),s>c.minX&&(y=Math.min(y,1-Math.abs((s+h)/(c.minX+h))%1)),a<c.maxX&&(y=Math.min(y,(a-h)/(c.maxX-h))),n>c.minY&&(y=c.minY<0?Math.min(y,(n+p)/(-c.minY+n+p)):Math.min(y,1-(n+p)/(c.minY+p)%1)),l<c.maxY&&(y=Math.min(y,Math.abs((l-p)/(c.maxY-p)))),y}var i=t.Chart,o=t.each,s=t.merge,r=t.perspective,a=t.pick,n=t.wrap;i.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},i.prototype.propsRequireDirtyBox.push("chart.options3d"),i.prototype.propsRequireUpdateSeries.push("chart.options3d"),n(i.prototype,"initSeries",function(t,e){var i=e.type||this.options.chart.type||this.options.chart.defaultSeriesType;return this.is3d()&&"scatter"===i&&(e.type="scatter3d"),t.call(this,e)}),t.wrap(t.Chart.prototype,"isInsidePlot",function(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}),s(!0,t.getOptions(),{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:"default",frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}}),n(i.prototype,"setClassName",function(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}),t.wrap(t.Chart.prototype,"setChartSize",function(t){var i=this,o=i.options.chart.options3d;if(t.apply(i,[].slice.call(arguments,1)),i.is3d()){var s=i.inverted,r=i.clipBox,a=i.margin,n=s?"x":"y",l=s?"height":"width",h=s?"width":"height";r[s?"y":"x"]=-(a[3]||0),r[n]=-(a[0]||0),r[l]=i.chartWidth+(a[3]||0)+(a[1]||0),r[h]=i.chartHeight+(a[0]||0)+(a[2]||0),i.scale3d=1,!0===o.fitToPlot&&(i.scale3d=e(i,o.depth))}}),n(i.prototype,"redraw",function(t){this.is3d()&&(this.isDirtyBox=!0,this.frame3d=this.get3dFrame()),t.apply(this,[].slice.call(arguments,1))}),n(i.prototype,"render",function(t){this.is3d()&&(this.frame3d=this.get3dFrame()),t.apply(this,[].slice.call(arguments,1))}),n(i.prototype,"renderSeries",function(t){var e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}),n(i.prototype,"drawChartBox",function(e){if(this.is3d()){var i=this,o=i.renderer,s=this.options.chart.options3d,r=i.get3dFrame(),a=this.plotLeft,n=this.plotLeft+this.plotWidth,l=this.plotTop,h=this.plotTop+this.plotHeight,p=0,c=s.depth,y=a-(r.left.visible?r.left.size:0),x=n+(r.right.visible?r.right.size:0),d=l-(r.top.visible?r.top.size:0),f=h+(r.bottom.visible?r.bottom.size:0),z=p-(r.front.visible?r.front.size:0),u=c+(r.back.visible?r.back.size:0),b=i.hasRendered?"animate":"attr";this.frame3d=r,this.frameShapes||(this.frameShapes={bottom:o.polyhedron().add(),top:o.polyhedron().add(),left:o.polyhedron().add(),right:o.polyhedron().add(),back:o.polyhedron().add(),front:o.polyhedron().add()}),this.frameShapes.bottom[b]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:r.bottom.frontFacing?-1e3:1e3,faces:[{fill:t.color(r.bottom.color).brighten(.1).get(),vertexes:[{x:y,y:f,z:z},{x:x,y:f,z:z},{x:x,y:f,z:u},{x:y,y:f,z:u}],enabled:r.bottom.visible},{fill:t.color(r.bottom.color).brighten(.1).get(),vertexes:[{x:a,y:h,z:c},{x:n,y:h,z:c},{x:n,y:h,z:p},{x:a,y:h,z:p}],enabled:r.bottom.visible},{fill:t.color(r.bottom.color).brighten(-.1).get(),vertexes:[{x:y,y:f,z:z},{x:y,y:f,z:u},{x:a,y:h,z:c},{x:a,y:h,z:p}],enabled:r.bottom.visible&&!r.left.visible},{fill:t.color(r.bottom.color).brighten(-.1).get(),vertexes:[{x:x,y:f,z:u},{x:x,y:f,z:z},{x:n,y:h,z:p},{x:n,y:h,z:c}],enabled:r.bottom.visible&&!r.right.visible},{fill:t.color(r.bottom.color).get(),vertexes:[{x:x,y:f,z:z},{x:y,y:f,z:z},{x:a,y:h,z:p},{x:n,y:h,z:p}],enabled:r.bottom.visible&&!r.front.visible},{fill:t.color(r.bottom.color).get(),vertexes:[{x:y,y:f,z:u},{x:x,y:f,z:u},{x:n,y:h,z:c},{x:a,y:h,z:c}],enabled:r.bottom.visible&&!r.back.visible}]}),this.frameShapes.top[b]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:r.top.frontFacing?-1e3:1e3,faces:[{fill:t.color(r.top.color).brighten(.1).get(),vertexes:[{x:y,y:d,z:u},{x:x,y:d,z:u},{x:x,y:d,z:z},{x:y,y:d,z:z}],enabled:r.top.visible},{fill:t.color(r.top.color).brighten(.1).get(),vertexes:[{x:a,y:l,z:p},{x:n,y:l,z:p},{x:n,y:l,z:c},{x:a,y:l,z:c}],enabled:r.top.visible},{fill:t.color(r.top.color).brighten(-.1).get(),vertexes:[{x:y,y:d,z:u},{x:y,y:d,z:z},{x:a,y:l,z:p},{x:a,y:l,z:c}],enabled:r.top.visible&&!r.left.visible},{fill:t.color(r.top.color).brighten(-.1).get(),vertexes:[{x:x,y:d,z:z},{x:x,y:d,z:u},{x:n,y:l,z:c},{x:n,y:l,z:p}],enabled:r.top.visible&&!r.right.visible},{fill:t.color(r.top.color).get(),vertexes:[{x:y,y:d,z:z},{x:x,y:d,z:z},{x:n,y:l,z:p},{x:a,y:l,z:p}],enabled:r.top.visible&&!r.front.visible},{fill:t.color(r.top.color).get(),vertexes:[{x:x,y:d,z:u},{x:y,y:d,z:u},{x:a,y:l,z:c},{x:n,y:l,z:c}],enabled:r.top.visible&&!r.back.visible}]}),this.frameShapes.left[b]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:r.left.frontFacing?-1e3:1e3,faces:[{fill:t.color(r.left.color).brighten(.1).get(),vertexes:[{x:y,y:f,z:z},{x:a,y:h,z:p},{x:a,y:h,z:c},{x:y,y:f,z:u}],enabled:r.left.visible&&!r.bottom.visible},{fill:t.color(r.left.color).brighten(.1).get(),vertexes:[{x:y,y:d,z:u},{x:a,y:l,z:c},{x:a,y:l,z:p},{x:y,y:d,z:z}],enabled:r.left.visible&&!r.top.visible},{fill:t.color(r.left.color).brighten(-.1).get(),vertexes:[{x:y,y:f,z:u},{x:y,y:d,z:u},{x:y,y:d,z:z},{x:y,y:f,z:z}],enabled:r.left.visible},{fill:t.color(r.left.color).brighten(-.1).get(),vertexes:[{x:a,y:l,z:c},{x:a,y:h,z:c},{x:a,y:h,z:p},{x:a,y:l,z:p}],enabled:r.left.visible},{fill:t.color(r.left.color).get(),vertexes:[{x:y,y:f,z:z},{x:y,y:d,z:z},{x:a,y:l,z:p},{x:a,y:h,z:p}],enabled:r.left.visible&&!r.front.visible},{fill:t.color(r.left.color).get(),vertexes:[{x:y,y:d,z:u},{x:y,y:f,z:u},{x:a,y:h,z:c},{x:a,y:l,z:c}],enabled:r.left.visible&&!r.back.visible}]}),this.frameShapes.right[b]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:r.right.frontFacing?-1e3:1e3,faces:[{fill:t.color(r.right.color).brighten(.1).get(),vertexes:[{x:x,y:f,z:u},{x:n,y:h,z:c},{x:n,y:h,z:p},{x:x,y:f,z:z}],enabled:r.right.visible&&!r.bottom.visible},{fill:t.color(r.right.color).brighten(.1).get(),vertexes:[{x:x,y:d,z:z},{x:n,y:l,z:p},{x:n,y:l,z:c},{x:x,y:d,z:u}],enabled:r.right.visible&&!r.top.visible},{fill:t.color(r.right.color).brighten(-.1).get(),vertexes:[{x:n,y:l,z:p},{x:n,y:h,z:p},{x:n,y:h,z:c},{x:n,y:l,z:c}],enabled:r.right.visible},{fill:t.color(r.right.color).brighten(-.1).get(),vertexes:[{x:x,y:f,z:z},{x:x,y:d,z:z},{x:x,y:d,z:u},{x:x,y:f,z:u}],enabled:r.right.visible},{fill:t.color(r.right.color).get(),vertexes:[{x:x,y:d,z:z},{x:x,y:f,z:z},{x:n,y:h,z:p},{x:n,y:l,z:p}],enabled:r.right.visible&&!r.front.visible},{fill:t.color(r.right.color).get(),vertexes:[{x:x,y:f,z:u},{x:x,y:d,z:u},{x:n,y:l,z:c},{x:n,y:h,z:c}],enabled:r.right.visible&&!r.back.visible}]}),this.frameShapes.back[b]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:r.back.frontFacing?-1e3:1e3,faces:[{fill:t.color(r.back.color).brighten(.1).get(),vertexes:[{x:x,y:f,z:u},{x:y,y:f,z:u},{x:a,y:h,z:c},{x:n,y:h,z:c}],enabled:r.back.visible&&!r.bottom.visible},{fill:t.color(r.back.color).brighten(.1).get(),vertexes:[{x:y,y:d,z:u},{x:x,y:d,z:u},{x:n,y:l,z:c},{x:a,y:l,z:c}],enabled:r.back.visible&&!r.top.visible},{fill:t.color(r.back.color).brighten(-.1).get(),vertexes:[{x:y,y:f,z:u},{x:y,y:d,z:u},{x:a,y:l,z:c},{x:a,y:h,z:c}],enabled:r.back.visible&&!r.left.visible},{fill:t.color(r.back.color).brighten(-.1).get(),vertexes:[{x:x,y:d,z:u},{x:x,y:f,z:u},{x:n,y:h,z:c},{x:n,y:l,z:c}],enabled:r.back.visible&&!r.right.visible},{fill:t.color(r.back.color).get(),vertexes:[{x:a,y:l,z:c},{x:n,y:l,z:c},{x:n,y:h,z:c},{x:a,y:h,z:c}],enabled:r.back.visible},{fill:t.color(r.back.color).get(),vertexes:[{x:y,y:f,z:u},{x:x,y:f,z:u},{x:x,y:d,z:u},{x:y,y:d,z:u}],enabled:r.back.visible}]}),this.frameShapes.front[b]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:r.front.frontFacing?-1e3:1e3,faces:[{fill:t.color(r.front.color).brighten(.1).get(),vertexes:[{x:y,y:f,z:z},{x:x,y:f,z:z},{x:n,y:h,z:p},{x:a,y:h,z:p}],enabled:r.front.visible&&!r.bottom.visible},{fill:t.color(r.front.color).brighten(.1).get(),vertexes:[{x:x,y:d,z:z},{x:y,y:d,z:z},{x:a,y:l,z:p},{x:n,y:l,z:p}],enabled:r.front.visible&&!r.top.visible},{fill:t.color(r.front.color).brighten(-.1).get(),vertexes:[{x:y,y:d,z:z},{x:y,y:f,z:z},{x:a,y:h,z:p},{x:a,y:l,z:p}],enabled:r.front.visible&&!r.left.visible},{fill:t.color(r.front.color).brighten(-.1).get(),vertexes:[{x:x,y:f,z:z},{x:x,y:d,z:z},{x:n,y:l,z:p},{x:n,y:h,z:p}],enabled:r.front.visible&&!r.right.visible},{fill:t.color(r.front.color).get(),vertexes:[{x:n,y:l,z:p},{x:a,y:l,z:p},{x:a,y:h,z:p},{x:n,y:h,z:p}],enabled:r.front.visible},{fill:t.color(r.front.color).get(),vertexes:[{x:x,y:f,z:z},{x:y,y:f,z:z},{x:y,y:d,z:z},{x:x,y:d,z:z}],enabled:r.front.visible}]})}return e.apply(this,[].slice.call(arguments,1))}),i.prototype.retrieveStacks=function(t){var e,i=this.series,s={},r=1;return o(this.series,function(o){e=a(o.options.stack,t?0:i.length-1-o.index),s[e]?s[e].series.push(o):(s[e]={series:[o],position:r},r++)}),s.totalStacks=r+1,s},i.prototype.get3dFrame=function(){var e=this,i=e.options.chart.options3d,s=i.frame,n=e.plotLeft,l=e.plotLeft+e.plotWidth,h=e.plotTop,p=e.plotTop+e.plotHeight,c=0,y=i.depth,x=function(i){var o=t.shapeArea3d(i,e);return o>.5?1:o<-.5?-1:0},d=x([{x:n,y:p,z:y},{x:l,y:p,z:y},{x:l,y:p,z:c},{x:n,y:p,z:c}]),f=x([{x:n,y:h,z:c},{x:l,y:h,z:c},{x:l,y:h,z:y},{x:n,y:h,z:y}]),z=x([{x:n,y:h,z:c},{x:n,y:h,z:y},{x:n,y:p,z:y},{x:n,y:p,z:c}]),u=x([{x:l,y:h,z:y},{x:l,y:h,z:c},{x:l,y:p,z:c},{x:l,y:p,z:y}]),b=x([{x:n,y:p,z:c},{x:l,y:p,z:c},{x:l,y:h,z:c},{x:n,y:h,z:c}]),v=x([{x:n,y:h,z:y},{x:l,y:h,z:y},{x:l,y:p,z:y},{x:n,y:p,z:y}]),g=!1,m=!1,M=!1,A=!1,P=!1,k=!0;o([].concat(e.xAxis,e.yAxis,e.zAxis),function(t){t&&(t.horiz?t.opposite?m=!0:g=!0:t.opposite?A=!0:M=!0)});var L=function(t,e,i){for(var o=["size","color","visible"],s={},r=0;r<o.length;r++)for(var n=o[r],l=0;l<t.length;l++)if("object"==typeof t[l]){var h=t[l][n];if(h!==undefined&&null!==h){s[n]=h;break}}var p=i;return!0===s.visible||!1===s.visible?p=s.visible:"auto"===s.visible&&(p=e>0),{size:a(s.size,1),color:a(s.color,"none"),frontFacing:e>0,visible:p}},S={bottom:L([s.bottom,s.top,s],d,g),top:L([s.top,s.bottom,s],f,m),left:L([s.left,s.right,s.side,s],z,M),right:L([s.right,s.left,s.side,s],u,A),back:L([s.back,s.front,s],v,k),front:L([s.front,s.back,s],b,P)};if("auto"===i.axisLabelPosition){var I=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing},w=[];I(S.left,S.front)&&w.push({y:(h+p)/2,x:n,z:c,xDir:{x:1,y:0,z:0}}),I(S.left,S.back)&&w.push({y:(h+p)/2,x:n,z:y,xDir:{x:0,y:0,z:-1}}),I(S.right,S.front)&&w.push({y:(h+p)/2,x:l,z:c,xDir:{x:0,y:0,z:1}}),I(S.right,S.back)&&w.push({y:(h+p)/2,x:l,z:y,xDir:{x:-1,y:0,z:0}});var D=[];I(S.bottom,S.front)&&D.push({x:(n+l)/2,y:p,z:c,xDir:{x:1,y:0,z:0}}),I(S.bottom,S.back)&&D.push({x:(n+l)/2,y:p,z:y,xDir:{x:-1,y:0,z:0}});var F=[];I(S.top,S.front)&&F.push({x:(n+l)/2,y:h,z:c,xDir:{x:1,y:0,z:0}}),I(S.top,S.back)&&F.push({x:(n+l)/2,y:h,z:y,xDir:{x:-1,y:0,z:0}});var Y=[];I(S.bottom,S.left)&&Y.push({z:(c+y)/2,y:p,x:n,xDir:{x:0,y:0,z:-1}}),I(S.bottom,S.right)&&Y.push({z:(c+y)/2,y:p,x:l,xDir:{x:0,y:0,z:1}});var X=[];I(S.top,S.left)&&X.push({z:(c+y)/2,y:h,x:n,xDir:{x:0,y:0,z:-1}}),I(S.top,S.right)&&X.push({z:(c+y)/2,y:h,x:l,xDir:{x:0,y:0,z:1}});var Z=function(t,i,o){if(0===t.length)return null;if(1===t.length)return t[0];for(var s=0,a=r(t,e,!1),n=1;n<a.length;n++)o*a[n][i]>o*a[s][i]?s=n:o*a[n][i]==o*a[s][i]&&a[n].z<a[s].z&&(s=n);return t[s]};S.axes={y:{left:Z(w,"x",-1),right:Z(w,"x",1)},x:{top:Z(F,"y",-1),bottom:Z(D,"y",1)},z:{top:Z(X,"y",-1),bottom:Z(Y,"y",1)}}}else S.axes={y:{left:{x:n,z:c,xDir:{x:1,y:0,z:0}},right:{x:l,z:c,xDir:{x:0,y:0,z:1}}},x:{top:{y:h,z:c,xDir:{x:1,y:0,z:0}},bottom:{y:p,z:c,xDir:{x:1,y:0,z:0}}},z:{top:{x:M?l:n,y:h,xDir:M?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:M?l:n,y:p,xDir:M?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return S},t.Fx.prototype.matrixSetter=function(){var e;if(this.pos<1&&(t.isArray(this.start)||t.isArray(this.end))){var i=this.start||[1,0,0,1,0,0],o=this.end||[1,0,0,1,0,0];e=[];for(var s=0;s<6;s++)e.push(this.pos*o[s]+(1-this.pos)*i[s])}else e=this.end;this.elem.attr(this.prop,e,null,!0)}}(t),function(t){function e(t,e,i){if(!t.chart.is3d()||"colorAxis"===t.coll)return e;var o,s=t.chart,a=r*s.options.chart.options3d.alpha,n=r*s.options.chart.options3d.beta,l=p(i&&t.options.title.position3d,t.options.labels.position3d),y=p(i&&t.options.title.skew3d,t.options.labels.skew3d),x=s.frame3d,d=s.plotLeft,f=s.plotWidth+d,z=s.plotTop,u=s.plotHeight+z,b=!1,v=0,g=0,m={x:0,y:1,z:0};if(e=t.swapZ({x:e.x,y:e.y,z:0}),t.isZAxis)if(t.opposite){if(null===x.axes.z.top)return{};g=e.y-z,e.x=x.axes.z.top.x,e.y=x.axes.z.top.y,o=x.axes.z.top.xDir,b=!x.top.frontFacing}else{if(null===x.axes.z.bottom)return{};g=e.y-u,e.x=x.axes.z.bottom.x,e.y=x.axes.z.bottom.y,o=x.axes.z.bottom.xDir,b=!x.bottom.frontFacing}else if(t.horiz)if(t.opposite){if(null===x.axes.x.top)return{};g=e.y-z,e.y=x.axes.x.top.y,e.z=x.axes.x.top.z,o=x.axes.x.top.xDir,b=!x.top.frontFacing}else{if(null===x.axes.x.bottom)return{};g=e.y-u,e.y=x.axes.x.bottom.y,e.z=x.axes.x.bottom.z,o=x.axes.x.bottom.xDir,b=!x.bottom.frontFacing}else if(t.opposite){if(null===x.axes.y.right)return{};v=e.x-f,e.x=x.axes.y.right.x,e.z=x.axes.y.right.z,o={x:(o=x.axes.y.right.xDir).z,y:o.y,z:-o.x}}else{if(null===x.axes.y.left)return{};v=e.x-d,e.x=x.axes.y.left.x,e.z=x.axes.y.left.z,o=x.axes.y.left.xDir}if("chart"===l);else if("flap"===l)if(t.horiz){var M=Math.sin(a),A=Math.cos(a);t.opposite&&(M=-M),b&&(M=-M),m={x:o.z*M,y:A,z:-o.x*M}}else o={x:Math.cos(n),y:0,z:Math.sin(n)};else if("ortho"===l)if(t.horiz){var P=Math.sin(a),k=Math.cos(a),L={x:Math.sin(n)*k,y:-P,z:-k*Math.cos(n)};m={x:o.y*L.z-o.z*L.y,y:o.z*L.x-o.x*L.z,z:o.x*L.y-o.y*L.x};var S=1/Math.sqrt(m.x*m.x+m.y*m.y+m.z*m.z);b&&(S=-S),m={x:S*m.x,y:S*m.y,z:S*m.z}}else o={x:Math.cos(n),y:0,z:Math.sin(n)};else t.horiz?m={x:Math.sin(n)*Math.sin(a),y:Math.cos(a),z:-Math.cos(n)*Math.sin(a)}:o={x:Math.cos(n),y:0,z:Math.sin(n)};e.x+=v*o.x+g*m.x,e.y+=v*o.y+g*m.y,e.z+=v*o.z+g*m.z;var I=h([e],t.chart)[0];if(y){c(h([e,{x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},{x:e.x+m.x,y:e.y+m.y,z:e.z+m.z}],t.chart))<0&&(o={x:-o.x,y:-o.y,z:-o.z});var w=h([{x:e.x,y:e.y,z:e.z},{x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},{x:e.x+m.x,y:e.y+m.y,z:e.z+m.z}],t.chart);I.matrix=[w[1].x-w[0].x,w[1].y-w[0].y,w[2].x-w[0].x,w[2].y-w[0].y,I.x,I.y],I.matrix[4]-=I.x*I.matrix[0]+I.y*I.matrix[2],I.matrix[5]-=I.x*I.matrix[1]+I.y*I.matrix[3]}else I.matrix=null;return I}var i,o=t.Axis,s=t.Chart,r=t.deg2rad,a=t.each,n=t.extend,l=t.merge,h=t.perspective,p=t.pick,c=t.shapeArea,y=t.splat,x=t.Tick,d=t.wrap,f={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}};l(!0,o.prototype.defaultOptions,f),d(o.prototype,"setOptions",function(t,e){var i;t.call(this,e),this.chart.is3d&&this.chart.is3d()&&"colorAxis"!==this.coll&&((i=this.options).tickWidth=p(i.tickWidth,0),i.gridLineWidth=p(i.gridLineWidth,1))}),d(o.prototype,"getPlotLinePath",function(t){var e=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||"colorAxis"===this.coll)return e;if(null===e)return e;var i=this.chart,o=i.options.chart.options3d,s=this.isZAxis?i.plotWidth:o.depth,r=i.frame3d,a=[this.swapZ({x:e[1],y:e[2],z:0}),this.swapZ({x:e[1],y:e[2],z:s}),this.swapZ({x:e[4],y:e[5],z:0}),this.swapZ({x:e[4],y:e[5],z:s})],n=[];return this.horiz?this.isZAxis?(r.left.visible&&n.push(a[0],a[2]),r.right.visible&&n.push(a[1],a[3]),r.top.visible&&n.push(a[0],a[1]),r.bottom.visible&&n.push(a[2],a[3])):(r.front.visible&&n.push(a[0],a[2]),r.back.visible&&n.push(a[1],a[3]),r.top.visible&&n.push(a[0],a[1]),r.bottom.visible&&n.push(a[2],a[3])):(r.front.visible&&n.push(a[0],a[2]),r.back.visible&&n.push(a[1],a[3]),r.left.visible&&n.push(a[0],a[1]),r.right.visible&&n.push(a[2],a[3])),n=h(n,this.chart,!1),this.chart.renderer.toLineSegments(n)}),d(o.prototype,"getLinePath",function(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}),d(o.prototype,"getPlotBandPath",function(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var e=arguments,i=e[1],o=e[2],s=[],r=this.getPlotLinePath(i),a=this.getPlotLinePath(o);if(r&&a)for(var n=0;n<r.length;n+=6)s.push("M",r[n+1],r[n+2],"L",r[n+4],r[n+5],"L",a[n+4],a[n+5],"L",a[n+1],a[n+2],"Z");return s}),d(x.prototype,"getMarkPath",function(t){var i=t.apply(this,[].slice.call(arguments,1)),o=[e(this.axis,{x:i[1],y:i[2],z:0}),e(this.axis,{x:i[4],y:i[5],z:0})];return this.axis.chart.renderer.toLineSegments(o)}),d(x.prototype,"getLabelPosition",function(t){var i=t.apply(this,[].slice.call(arguments,1));return e(this.axis,i)}),d(o.prototype,"getTitlePosition",function(t){return e(this,t.apply(this,[].slice.call(arguments,1)),!0)}),d(o.prototype,"drawCrosshair",function(t){var e=arguments;this.chart.is3d()&&"colorAxis"!==this.coll&&e[2]&&(e[2]={plotX:e[2].plotXold||e[2].plotX,plotY:e[2].plotYold||e[2].plotY}),t.apply(this,[].slice.call(e,1))}),d(o.prototype,"destroy",function(t){a(["backFrame","bottomFrame","sideFrame"],function(t){this[t]&&(this[t]=this[t].destroy())},this),t.apply(this,[].slice.call(arguments,1))}),o.prototype.swapZ=function(t,e){if(this.isZAxis){var i=e?0:this.chart.plotLeft;return{x:i+t.z,y:t.y,z:t.x-i}}return t},n((i=t.ZAxis=function(){this.init.apply(this,arguments)}).prototype,o.prototype),n(i.prototype,{isZAxis:!0,setOptions:function(t){t=l({offset:0,lineWidth:0},t),o.prototype.setOptions.call(this,t),this.coll="zAxis"},setAxisSize:function(){o.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),a(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,s=i.options.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&s<=0&&(s=null),(o=i.zData).length&&(t.dataMin=Math.min(p(t.dataMin,o[0]),Math.min.apply(null,o)),t.dataMax=Math.max(p(t.dataMax,o[0]),Math.max.apply(null,o)))}})}}),d(s.prototype,"getAxes",function(t){var e=this,o=this.options,s=o.zAxis=y(o.zAxis||{});t.call(this),e.is3d()&&(this.zAxis=[],a(s,function(t,o){t.index=o,t.isX=!0,new i(e,t).setScale()}))})}(t),i=(e=t).perspective,o=e.pick,(0,e.wrap)(e.Series.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dPoints()}),e.Series.prototype.translate3dPoints=function(){var t,e,s,r,a,n=this,l=n.chart,h=o(n.zAxis,l.options.zAxis[0]),p=[];for(a=0;a<n.data.length;a++)t=n.data[a],h&&h.translate&&(r=h.isLog&&h.val2lin?h.val2lin(t.z):t.z,t.plotZ=h.translate(r),t.isInside=!!t.isInside&&r>=h.min&&r<=h.max),p.push({x:o(t.plotXold,t.plotX),y:o(t.plotYold,t.plotY),z:o(t.plotZold,t.plotZ)});for(e=i(p,l,!0),a=0;a<n.data.length;a++)t=n.data[a],s=e[a],t.plotXold=t.plotX,t.plotYold=t.plotY,t.plotZold=t.plotZ,t.plotX=s.x,t.plotY=s.y,t.plotZ=s.z},function(t){function e(t){var e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=s(this.options.edgeWidth,1)),e}var i=t.each,o=t.perspective,s=t.pick,r=t.Series,a=t.seriesTypes,n=t.inArray,l=t.svg,h=t.wrap;h(a.column.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),a.column.prototype.translate3dPoints=function(){},a.column.prototype.translate3dShapes=function(){var t=this,e=t.chart,s=t.options,r=s.depth||25,a=(s.stacking?s.stack||0:t.index)*(r+(s.groupZPadding||1)),n=t.borderWidth%2?.5:0;e.inverted&&!t.yAxis.reversed&&(n*=-1),!1!==s.grouping&&(a=0),a+=s.groupZPadding||1,i(t.data,function(s){if(null!==s.y){var l,h=s.shapeArgs,p=s.tooltipPos;i([["x","width"],["y","height"]],function(e){if((l=h[e[0]]-n)<0&&(h[e[1]]+=h[e[0]]+n,h[e[0]]=-n,l=0),l+h[e[1]]>t[e[0]+"Axis"].len&&0!==h[e[1]]&&(h[e[1]]=t[e[0]+"Axis"].len-h[e[0]]),0!==h[e[1]]&&(h[e[0]]>=t[e[0]+"Axis"].len||h[e[0]]+h[e[1]]<=n))for(var i in h)h[i]=0}),s.shapeType="cuboid",h.z=a,h.depth=r,h.insidePlotArea=!0,p=o([{x:p[0],y:p[1],z:a}],e,!0)[0],s.tooltipPos=[p.x,p.y]}}),t.z=a},h(a.column.prototype,"animate",function(t){if(this.chart.is3d()){var e=arguments[1],o=this.yAxis,s=this,r=this.yAxis.reversed;l&&(e?i(s.data,function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,r||(t.stackY?t.shapeArgs.y=t.plotY+o.translate(t.stackY):t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)))}):(i(s.data,function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,s.options.animation))}),this.drawDataLabels(),s.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),h(a.column.prototype,"plotGroup",function(t,e,i,o,s,r){return this.chart.is3d()&&r&&!this[e]&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0),t.apply(this,Array.prototype.slice.call(arguments,1))}),h(a.column.prototype,"setVisible",function(t,e){var o,s=this;s.chart.is3d()&&i(s.data,function(t){t.visible=t.options.visible=e=e===undefined?!t.visible:e,o=e?"visible":"hidden",s.options.data[n(t,s.data)]=t.options,t.graphic&&t.graphic.attr({visibility:o})}),t.apply(this,Array.prototype.slice.call(arguments,1))}),h(a.column.prototype,"init",function(t){
if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var e=this.options,i=e.grouping,o=e.stacking,r=s(this.yAxis.options.reversedStacks,!0),a=0;if(i===undefined||i){var n,l=this.chart.retrieveStacks(o),h=e.stack||0;for(n=0;n<l[h].series.length&&l[h].series[n]!==this;n++);a=10*(l.totalStacks-l[h].position)+(r?n:-n),this.xAxis.reversed||(a=10*l.totalStacks-a)}e.zIndex=a}}),h(a.column.prototype,"pointAttribs",e),a.columnrange&&(h(a.columnrange.prototype,"pointAttribs",e),a.columnrange.prototype.plotGroup=a.column.prototype.plotGroup,a.columnrange.prototype.setVisible=a.column.prototype.setVisible),h(r.prototype,"alignDataLabel",function(t){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var e=this,i=e.chart,s=arguments[4],r={x:s.x,y:s.y,z:e.z};r=o([r],i,!0)[0],s.x=r.x,s.y=r.y}t.apply(this,[].slice.call(arguments,1))}),h(t.StackItem.prototype,"getStackBox",function(e,i){var o=e.apply(this,[].slice.call(arguments,1));if(i.is3d()){var s={x:o.x,y:o.y,z:0};s=t.perspective([s],i,!0)[0],o.x=s.x,o.y=s.y}return o})}(t),function(t){var e=t.deg2rad,i=t.each,o=t.pick,s=t.seriesTypes,r=t.svg,a=t.wrap;a(s.pie.prototype,"translate",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var o=this,s=o.options,r=s.depth||0,a=o.chart.options.chart.options3d,n=a.alpha,l=a.beta,h=s.stacking?(s.stack||0)*r:o._i*r;h+=r/2,!1!==s.grouping&&(h=0),i(o.data,function(t){var i,a=t.shapeArgs;t.shapeType="arc3d",a.z=h,a.depth=.75*r,a.alpha=n,a.beta=l,a.center=o.center,i=(a.end+a.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(i)*s.slicedOffset*Math.cos(n*e)),translateY:Math.round(Math.sin(i)*s.slicedOffset*Math.cos(n*e))}})}}),a(s.pie.prototype.pointClass.prototype,"haloPath",function(t){var e=arguments;return this.series.chart.is3d()?[]:t.call(this,e[1])}),a(s.pie.prototype,"pointAttribs",function(t,e,i){var s=t.call(this,e,i),r=this.options;return this.chart.is3d()&&(s.stroke=r.edgeColor||e.color||this.color,s["stroke-width"]=o(r.edgeWidth,1)),s}),a(s.pie.prototype,"drawPoints",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&i(this.points,function(t){var e=t.graphic;e&&e[t.y&&t.visible?"show":"hide"]()})}),a(s.pie.prototype,"drawDataLabels",function(t){if(this.chart.is3d()){var o=this,s=o.chart.options.chart.options3d;i(o.data,function(t){var o=t.shapeArgs,r=o.r,a=(o.alpha||s.alpha)*e,n=(o.beta||s.beta)*e,l=(o.start+o.end)/2,h=t.labelPos,p=[0,2,4],c=-r*(1-Math.cos(a))*Math.sin(l),y=r*(Math.cos(n)-1)*Math.cos(l);i(p,function(t){h[t]+=y,h[t+1]+=c})})}t.apply(this,[].slice.call(arguments,1))}),a(s.pie.prototype,"addPoint",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),a(s.pie.prototype,"animate",function(t){if(this.chart.is3d()){var e,i=arguments[1],o=this.options.animation,s=this.center,a=this.group,n=this.markerGroup;r&&(!0===o&&(o={}),i?(a.oldtranslateX=a.translateX,a.oldtranslateY=a.translateY,e={translateX:s[0],translateY:s[1],scaleX:.001,scaleY:.001},a.attr(e),n&&(n.attrSetters=a.attrSetters,n.attr(e))):(e={translateX:a.oldtranslateX,translateY:a.oldtranslateY,scaleX:1,scaleY:1},a.animate(e,o),n&&n.animate(e,o),this.animate=null))}else t.apply(this,[].slice.call(arguments,1))})}(t),function(t){var e=t.Point,i=t.seriesType,o=t.seriesTypes;i("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(e){var i=o.scatter.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&e&&(i.zIndex=t.pointCameraDistance(e,this.chart)),i},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){return e.prototype.applyOptions.apply(this,arguments),this.z===undefined&&(this.z=0),this}})}(t),function(t){var e=t.Axis,i=t.SVGRenderer,o=t.VMLRenderer;o&&(t.setOptions({animate:!1}),o.prototype.face3d=i.prototype.face3d,o.prototype.polyhedron=i.prototype.polyhedron,o.prototype.cuboid=i.prototype.cuboid,o.prototype.cuboidPath=i.prototype.cuboidPath,o.prototype.toLinePath=i.prototype.toLinePath,o.prototype.toLineSegments=i.prototype.toLineSegments,o.prototype.createElement3D=i.prototype.createElement3D,o.prototype.arc3d=function(t){var e=i.prototype.arc3d.call(this,t);return e.css({zIndex:e.zIndex}),e},t.VMLRenderer.prototype.arc3dPath=t.SVGRenderer.prototype.arc3dPath,t.wrap(e.prototype,"render",function(t){t.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))}(t)});