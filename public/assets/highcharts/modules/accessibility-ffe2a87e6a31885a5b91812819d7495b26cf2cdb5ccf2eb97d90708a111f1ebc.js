"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){!function(e){function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function i(e){return"string"==typeof e?e.replace(/<\/?[^>]+(>|$)/g,""):e}function n(e){for(var t=e.childNodes.length;t--;)e.appendChild(e.childNodes[t])}var r=e.win.document,o=e.each,a=e.erase,s=e.addEvent,h=e.dateFormat,l=e.merge,p={position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},d={"default":["series","data point","data points"],line:["line","data point","data points"],spline:["line","data point","data points"],area:["line","data point","data points"],areaspline:["line","data point","data points"],pie:["pie","slice","slices"],column:["column series","column","columns"],bar:["bar series","bar","bars"],scatter:["scatter series","data point","data points"],boxplot:["boxplot series","box","boxes"],arearange:["arearange series","data point","data points"],areasplinerange:["areasplinerange series","data point","data points"],bubble:["bubble series","bubble","bubbles"],columnrange:["columnrange series","column","columns"],errorbar:["errorbar series","errorbar","errorbars"],funnel:["funnel","data point","data points"],pyramid:["pyramid","data point","data points"],waterfall:["waterfall series","column","columns"],map:["map","area","areas"],mapline:["line","data point","data points"],mappoint:["point series","data point","data points"],mapbubble:["bubble series","bubble","bubbles"]},c={boxplot:" Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile and maximum. ",arearange:" Arearange charts are line charts displaying a range between a lower and higher value for each point. ",areasplinerange:" These charts are line charts displaying a range between a lower and higher value for each point. ",bubble:" Bubble charts are scatter charts where each data point also has a size value. ",columnrange:" Columnrange charts are column charts displaying a range between a lower and higher value for each point. ",errorbar:" Errorbar series are used to display the variability of the data. ",funnel:" Funnel charts are used to display reduction of data in stages. ",pyramid:" Pyramid charts consist of a single pyramid with item heights corresponding to each point value. ",waterfall:" A waterfall chart is a column chart where each column contributes towards a total end value. "};e.Series.prototype.commonKeys=["name","id","category","x","value","y"],e.Series.prototype.specialKeys=["z","open","high","q3","median","q1","low","close"],e.seriesTypes.pie&&(e.seriesTypes.pie.prototype.specialKeys=[]),e.setOptions({accessibility:{enabled:!0,pointDescriptionThreshold:30}}),e.wrap(e.Series.prototype,"render",function(e){e.apply(this,Array.prototype.slice.call(arguments,1)),this.chart.options.accessibility.enabled&&this.setA11yDescription()}),e.Series.prototype.setA11yDescription=function(){var e=this.chart.options.accessibility,t=this.points&&this.points.length&&this.points[0].graphic&&this.points[0].graphic.element,r=t&&t.parentNode||this.graph&&this.graph.element||this.group&&this.group.element;r&&(r.lastChild===t&&n(r),this.points&&(this.points.length<e.pointDescriptionThreshold||!1===e.pointDescriptionThreshold)&&o(this.points,function(t){t.graphic&&(t.graphic.element.setAttribute("role","img"),t.graphic.element.setAttribute("tabindex","-1"),t.graphic.element.setAttribute("aria-label",i(t.series.options.pointDescriptionFormatter&&t.series.options.pointDescriptionFormatter(t)||e.pointDescriptionFormatter&&e.pointDescriptionFormatter(t)||t.buildPointInfoString())))}),(this.chart.series.length>1||e.describeSingleSeries)&&(r.setAttribute("role",this.options.exposeElementToA11y?"img":"region"),r.setAttribute("tabindex","-1"),r.setAttribute("aria-label",i(e.seriesDescriptionFormatter&&e.seriesDescriptionFormatter(this)||this.buildSeriesInfoString()))))},e.Series.prototype.buildSeriesInfoString=function(){var e=d[this.type]||d["default"],t=this.description||this.options.description;return(this.name?this.name+", ":"")+(1===this.chart.types.length?e[0]:"series")+" "+(this.index+1)+" of "+this.chart.series.length+(1===this.chart.types.length?" with ":". "+e[0]+" with ")+this.points.length+" "+(1===this.points.length?e[1]:e[2])+(t?". "+t:"")+(this.chart.yAxis.length>1&&this.yAxis?". Y axis, "+this.yAxis.getDescription():"")+(this.chart.xAxis.length>1&&this.xAxis?". X axis, "+this.xAxis.getDescription():"")},e.Point.prototype.buildPointInfoString=function(){var t=this,i=t.series,n=i.chart.options.accessibility,r="",a=i.xAxis&&i.xAxis.isDatetimeAxis,s=a&&h(n.pointDateFormatter&&n.pointDateFormatter(t)||n.pointDateFormat||e.Tooltip.prototype.getXDateFormat(t,i.chart.options.tooltip,i.xAxis),t.x);return e.find(i.specialKeys,function(e){return t[e]!==undefined})?(a&&(r=s),o(i.commonKeys.concat(i.specialKeys),function(e){t[e]===undefined||a&&"x"===e||(r+=(r?". ":"")+e+", "+t[e])})):r=(this.name||s||this.category||this.id||"x, "+this.x)+", "+(this.value!==undefined?this.value:this.y),this.index+1+". "+r+"."+(this.description?" "+this.description:"")},e.Axis.prototype.getDescription=function(){return this.userOptions&&this.userOptions.description||this.axisTitle&&this.axisTitle.textStr||this.options.id||this.categories&&"categories"||"values"},e.wrap(e.Series.prototype,"init",function(e){e.apply(this,Array.prototype.slice.call(arguments,1));var t=this.chart;t.options.accessibility.enabled&&(t.types=t.types||[],t.types.indexOf(this.type)<0&&t.types.push(this.type),s(this,"remove",function(){var e=this,i=!1;o(t.series,function(n){n!==e&&t.types.indexOf(e.type)<0&&(i=!0)}),i||a(t.types,e.type)}))}),e.Chart.prototype.getTypeDescription=function(){var e=this.types&&this.types[0],t=this.series[0]&&this.series[0].mapTitle;return e?"map"===e?t?"Map of "+t:"Map of unspecified region.":this.types.length>1?"Combination chart.":["spline","area","areaspline"].indexOf(e)>-1?"Line chart.":e+" chart."+(c[e]||""):"Empty chart."},e.Chart.prototype.getAxesDescription=function(){var e,t=this.xAxis.length,i=this.yAxis.length,n={};if(t)if(n.xAxis="The chart has "+t+(t>1?" X axes":" X axis")+" displaying ",t<2)n.xAxis+=this.xAxis[0].getDescription()+".";else{for(e=0;e<t-1;++e)n.xAxis+=(e?", ":"")+this.xAxis[e].getDescription();n.xAxis+=" and "+this.xAxis[e].getDescription()+"."}if(i)if(n.yAxis="The chart has "+i+(i>1?" Y axes":" Y axis")+" displaying ",i<2)n.yAxis+=this.yAxis[0].getDescription()+".";else{for(e=0;e<i-1;++e)n.yAxis+=(e?", ":"")+this.yAxis[e].getDescription();n.yAxis+=" and "+this.yAxis[e].getDescription()+"."}return n},e.Chart.prototype.addAccessibleContextMenuAttribs=function(){var e=this.exportDivElements;e&&(o(e,function(e){"DIV"!==e.tagName||e.children&&e.children.length||(e.setAttribute("role","menuitem"),e.setAttribute("tabindex",-1))}),e[0].parentNode.setAttribute("role","menu"),e[0].parentNode.setAttribute("aria-label","Chart export"))},e.Chart.prototype.addScreenReaderRegion=function(e,i){var n=this,o=n.series,a=n.options,s=a.accessibility,h=n.screenReaderRegion=r.createElement("div"),c=r.createElement("h4"),u=r.createElement("a"),g=r.createElement("h4"),m=n.types||[],f=(1===m.length&&"pie"===m[0]||"map"===m[0])&&{}||n.getAxesDescription(),x=o[0]&&d[o[0].type]||d["default"];h.setAttribute("id",e),h.setAttribute("role","region"),h.setAttribute("aria-label","Chart screen reader information."),h.innerHTML=s.screenReaderSectionFormatter&&s.screenReaderSectionFormatter(n)||"<div>Use regions/landmarks to skip ahead to chart"+(o.length>1?" and navigate between data series":"")+".</div><h3>"+(a.title.text?t(a.title.text):"Chart")+(a.subtitle&&a.subtitle.text?". "+t(a.subtitle.text):"")+"</h3><h4>Long description.</h4><div>"+(a.chart.description||"No description available.")+"</div><h4>Structure.</h4><div>Chart type: "+(a.chart.typeDescription||n.getTypeDescription())+"</div>"+(1===o.length?"<div>"+x[0]+" with "+o[0].points.length+" "+(1===o[0].points.length?x[1]:x[2])+".</div>":"")+(f.xAxis?"<div>"+f.xAxis+"</div>":"")+(f.yAxis?"<div>"+f.yAxis+"</div>":""),n.getCSV&&(u.innerHTML="View as data table.",u.href="#"+i,u.setAttribute("tabindex","-1"),u.onclick=s.onTableAnchorClick||function(){n.viewData(),r.getElementById(i).focus()},c.appendChild(u),h.appendChild(c)),g.innerHTML="Chart graphic.",n.renderTo.insertBefore(g,n.renderTo.firstChild),n.renderTo.insertBefore(h,n.renderTo.firstChild),l(!0,g.style,p),l(!0,h.style,p)},e.Chart.prototype.callbacks.push(function(n){var a=n.options;if(a.accessibility.enabled){var s=r.createElementNS("http://www.w3.org/2000/svg","title"),h=r.createElementNS("http://www.w3.org/2000/svg","g"),p=n.container.getElementsByTagName("desc")[0],d=n.container.getElementsByTagName("text"),c="highcharts-title-"+n.index,u="highcharts-data-table-"+n.index,g="highcharts-information-region-"+n.index,m=a.title.text||"Chart",f=a.exporting&&a.exporting.csv&&a.exporting.csv.columnHeaderFormatter,x=[];if(s.textContent=t(m),s.id=c,p.parentNode.insertBefore(s,p),n.renderTo.setAttribute("role","region"),n.renderTo.setAttribute("aria-label",i("Interactive chart. "+m+". Use up and down arrows to navigate with most screen readers.")),n.exportSVGElements&&n.exportSVGElements[0]&&n.exportSVGElements[0].element){var b=n.exportSVGElements[0].element.onclick,y=n.exportSVGElements[0].element.parentNode;n.exportSVGElements[0].element.onclick=function(){b.apply(this,Array.prototype.slice.call(arguments)),n.addAccessibleContextMenuAttribs(),n.highlightExportItem(0)},n.exportSVGElements[0].element.setAttribute("role","button"),n.exportSVGElements[0].element.setAttribute("aria-label","View export menu"),h.appendChild(n.exportSVGElements[0].element),h.setAttribute("role","region"),h.setAttribute("aria-label","Chart export menu"),y.appendChild(h)}n.rangeSelector&&o(["minInput","maxInput"],function(e,t){n.rangeSelector[e]&&(n.rangeSelector[e].setAttribute("tabindex","-1"),n.rangeSelector[e].setAttribute("role","textbox"),n.rangeSelector[e].setAttribute("aria-label","Select "+(t?"end":"start")+" date."))}),o(d,function(e){e.setAttribute("aria-hidden","true")}),n.addScreenReaderRegion(g,u),l(!0,a.exporting,{csv:{columnHeaderFormatter:function(t,i,n){if(!t)return"Category";if(t instanceof e.Axis)return t.options.title&&t.options.title.text||(t.isDatetimeAxis?"DateTime":"Category");var r=x[x.length-1];return n>1&&(r&&r.text)!==t.name&&x.push({text:t.name,span:n}),f?f.call(this,t,i,n):n>1?i:t.name}}}),e.wrap(n,"getTable",function(e){return e.apply(this,Array.prototype.slice.call(arguments,1)).replace("<table>",'<table id="'+u+'" summary="Table representation of chart"><caption>'+m+"</caption>")}),e.wrap(n,"viewData",function(e){if(!this.dataTableDiv){e.apply(this,Array.prototype.slice.call(arguments,1));var t,i,n=r.getElementById(u),a=n.getElementsByTagName("thead")[0],s=n.getElementsByTagName("tbody")[0],h=a.firstChild.children,l="<tr><td></td>";n.setAttribute("tabindex","-1"),o(s.children,function(e){t=e.firstChild,(i=r.createElement("th")).setAttribute("scope","row"),i.innerHTML=t.innerHTML,t.parentNode.replaceChild(i,t)}),o(h,function(e){"TH"===e.tagName&&e.setAttribute("scope","col")}),x.length&&(o(x,function(e){l+='<th scope="col" colspan="'+e.span+'">'+e.text+"</th>"}),a.insertAdjacentHTML("afterbegin",l))}})}})}(e),function(e){function t(e){return"string"==typeof e?e.replace(/<\/?[^>]+(>|$)/g,""):e}function i(e,t){this.chart=e,this.id=t.id,this.keyCodeMap=t.keyCodeMap,this.validate=t.validate,this.init=t.init,this.terminate=t.terminate}function n(e){var t;e&&e.onclick&&s.createEvent&&((t=s.createEvent("Events")).initEvent("click",!0,!1),e.onclick(t))}function r(e){return e.isNull&&e.series.chart.options.accessibility.keyboardNavigation.skipNullPoints||e.series.options.skipKeyboardNavigation||!e.series.visible}function o(e,t,i,n){var r,o,a,s=Infinity,h=t.points.length;if(e.plotX!==undefined&&e.plotY!==undefined){for(;h--;){if((r=t.points[h]).plotX===undefined||r.plotY===undefined)return;(a=(e.plotX-r.plotX)*(e.plotX-r.plotX)*(i||1)+(e.plotY-r.plotY)*(e.plotY-r.plotY)*(n||1))<s&&(s=a,o=h)}return t.points[o||0]}}var a=e.win,s=a.document,h=e.each,l=e.addEvent,p=e.fireEvent,d=e.merge,c=e.pick;e.extend(e.SVGElement.prototype,{addFocusBorder:function(e,t){this.focusBorder&&this.removeFocusBorder();var i=this.getBBox(),n=c(e,3);this.focusBorder=this.renderer.rect(i.x-n,i.y-n,i.width+2*n,i.height+2*n,t&&t.borderRadius).addClass("highcharts-focus-border").attr({stroke:t&&t.stroke,"stroke-width":t&&t.strokeWidth}).attr({zIndex:99}).add(this.parentGroup)},removeFocusBorder:function(){this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}}),e.Series.prototype.keyboardMoveVertical=!0,h(["column","pie"],function(t){e.seriesTypes[t]&&(e.seriesTypes[t].prototype.keyboardMoveVertical=!1)}),e.setOptions({accessibility:{keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,style:{color:"#000000",lineWidth:1,borderRadius:2},margin:2}}}}),i.prototype={run:function(e){var t=this,i=e.which||e.keyCode,n=!1,r=!1;return h(this.keyCodeMap,function(o){o[0].indexOf(i)>-1&&(n=!0,r=!1!==o[1].call(t,i,e))}),n||9!==i||(r=this.move(e.shiftKey?-1:1)),r},move:function(e){var t=this.chart;this.terminate&&this.terminate(e),t.keyboardNavigationModuleIndex+=e;var i=t.keyboardNavigationModules[t.keyboardNavigationModuleIndex];if(t.focusElement&&t.focusElement.removeFocusBorder(),i){if(i.validate&&!i.validate())return this.move(e);if(i.init)return i.init(e),!0}return t.keyboardNavigationModuleIndex=0,e>0?(this.chart.exiting=!0,this.chart.tabExitAnchor.focus()):this.chart.renderTo.focus(),!1}},e.Axis.prototype.panStep=function(e,t){var i=t||3,n=this.getExtremes(),r=(n.max-n.min)/i*e,o=n.max+r,a=n.min+r,s=o-a;e<0&&a<n.dataMin?o=(a=n.dataMin)+s:e>0&&o>n.dataMax&&(a=(o=n.dataMax)-s),this.setExtremes(a,o)},e.Chart.prototype.setFocusToElement=function(e,t){var i=this.options.accessibility.keyboardNavigation.focusBorder;i.enabled&&e!==this.focusElement&&(this.focusElement&&this.focusElement.removeFocusBorder(),t&&t.element&&t.element.focus?t.element.focus():e.element.focus&&e.element.focus(),e.addFocusBorder(i.margin,{stroke:i.style.color,strokeWidth:i.style.lineWidth,borderRadius:i.style.borderRadius}),this.focusElement=e)},e.Point.prototype.highlight=function(){var e=this.series.chart;return this.isNull?e.tooltip&&e.tooltip.hide(0):this.onMouseOver(),this.graphic&&e.setFocusToElement(this.graphic),e.highlightedPoint=this,this},e.Chart.prototype.highlightAdjacentPoint=function(e){var t,i,n=this,o=n.series,a=n.highlightedPoint,s=a&&a.index||0,h=a&&a.series.points,l=n.series&&n.series[n.series.length-1],p=l&&l.points&&l.points[l.points.length-1],d=a&&a.series.connectEnds&&s>h.length-3?2:1;if(!o[0]||!o[0].points)return!1;if(a){if(h[s]!==a)for(var c=0;c<h.length;++c)if(h[c]===a){s=c;break}if(t=o[a.series.index+(e?1:-1)],(i=h[s+(e?d:-1)]||t&&t.points[e?0:t.points.length-(t.connectEnds?2:1)])===undefined)return!1}else i=e?o[0].points[0]:p;return r(i)?(n.highlightedPoint=i,n.highlightAdjacentPoint(e)):i.highlight()},e.Series.prototype.highlightFirstValidPoint=function(){for(var e=this.chart.highlightedPoint,t=e.series===this?e.index:0,i=this.points,n=t,o=i.length;n<o;++n)if(!r(i[n]))return i[n].highlight();for(var a=t;a>=0;--a)if(!r(i[a]))return i[a].highlight();return!1},e.Chart.prototype.highlightAdjacentSeries=function(e){var t,i,n=this,r=n.highlightedPoint,a=n.series&&n.series[n.series.length-1],s=a&&a.points&&a.points[a.points.length-1];return n.highlightedPoint?!!(t=n.series[r.series.index+(e?-1:1)])&&(!!(i=o(r,t,4))&&(t.visible?(i.highlight(),i.series.highlightFirstValidPoint()):(i.highlight(),n.highlightAdjacentSeries(e)||(r.highlight(),!1)))):(t=e?n.series&&n.series[0]:a,!!(i=e?t&&t.points&&t.points[0]:s)&&i.highlight())},e.Chart.prototype.highlightAdjacentPointVertical=function(e){var t,i=this.highlightedPoint,n=Infinity;return i.plotX!==undefined&&i.plotY!==undefined&&(h(this.series,function(o){h(o.points,function(a){if(a.plotY!==undefined&&a.plotX!==undefined&&a!==i){var s=a.plotY-i.plotY,h=Math.abs(a.plotX-i.plotX),l=Math.abs(s)*Math.abs(s)+h*h*4;o.yAxis.reversed&&(s*=-1),s<0&&e||s>0&&!e||l<5||r(a)||l<n&&(n=l,t=a)}})}),!!t&&t.highlight())},e.Chart.prototype.showExportMenu=function(){this.exportSVGElements&&this.exportSVGElements[0]&&(this.exportSVGElements[0].element.onclick(),this.highlightExportItem(0))},e.Chart.prototype.hideExportMenu=function(){var e=this.exportDivElements;e&&(h(e,function(e){p(e,"mouseleave")}),e[this.highlightedExportItem]&&e[this.highlightedExportItem].onmouseout&&e[this.highlightedExportItem].onmouseout(),this.highlightedExportItem=0,this.renderTo.focus())},e.Chart.prototype.highlightExportItem=function(e){var t=this.exportDivElements&&this.exportDivElements[e],i=this.exportDivElements&&this.exportDivElements[this.highlightedExportItem];if(t&&"DIV"===t.tagName&&(!t.children||!t.children.length))return t.focus&&t.focus(),i&&i.onmouseout&&i.onmouseout(),t.onmouseover&&t.onmouseover(),this.highlightedExportItem=e,!0},e.Chart.prototype.highlightRangeSelectorButton=function(e){var t=this.rangeSelector.buttons;return t[this.highlightedRangeSelectorItemIx]&&t[this.highlightedRangeSelectorItemIx].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=e,!!t[e]&&(this.setFocusToElement(t[e].box,t[e]),this.oldRangeSelectorItemState=t[e].state,t[e].setState(2),!0)},e.Chart.prototype.highlightLegendItem=function(e){var t=this.legend.allItems,i=this.highlightedLegendItemIx;return!!t[e]&&(t[i]&&p(t[i].legendGroup.element,"mouseout"),this.highlightedLegendItemIx=e,this.setFocusToElement(t[e].legendItem,t[e].legendGroup),p(t[e].legendGroup.element,"mouseover"),!0)},e.Chart.prototype.addKeyboardNavigationModules=function(){function e(e,t,n){return new i(o,d({keyCodeMap:t},{id:e},n))}var o=this;o.keyboardNavigationModules=[e("entry",[]),e("points",[[[37,39],function(e){return o.highlightAdjacentPoint(39===e),!0}],[[38,40],function(e){var t=o.highlightedPoint&&o.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return o[t](38!==e),!0}],[[13,32],function(){o.highlightedPoint&&o.highlightedPoint.firePointEvent("click")}]],{init:function(){delete o.highlightedPoint;for(var e=0;e<o.series.length;++e)for(var t=0,i=o.series[e].points&&o.series[e].points.length;t<i;++t)if(!r(o.series[e].points[t]))return o.series[e].points[t].highlight()},terminate:function(){o.tooltip&&o.tooltip.hide(0),delete o.highlightedPoint}}),e("exporting",[[[37,38],function(){for(var e=o.highlightedExportItem||0,t=!0;e--;)if(o.highlightExportItem(e)){t=!1;break}if(t)return o.hideExportMenu(),this.move(-1)}],[[39,40],function(){for(var e=!0,t=(o.highlightedExportItem||0)+1;t<o.exportDivElements.length;++t)if(o.highlightExportItem(t)){e=!1;break}if(e)return o.hideExportMenu(),this.move(1)}],[[13,32],function(){n(o.exportDivElements[o.highlightedExportItem])}]],{validate:function(){return o.exportChart&&!(o.options.exporting&&!1===o.options.exporting.enabled)},init:function(e){if(o.highlightedPoint=null,o.showExportMenu(),e<0&&o.exportDivElements)for(var t=o.exportDivElements.length;t>-1&&!o.highlightExportItem(t);--t);},terminate:function(){o.hideExportMenu()}}),e("mapZoom",[[[38,40,37,39],function(e){o[38===e||40===e?"yAxis":"xAxis"][0].panStep(e<39?-1:1)}],[[9],function(e,t){var i;if(o.mapNavButtons[o.focusedMapNavButtonIx].setState(0),t.shiftKey&&!o.focusedMapNavButtonIx||!t.shiftKey&&o.focusedMapNavButtonIx)return o.mapZoom(),this.move(t.shiftKey?-1:1);o.focusedMapNavButtonIx+=t.shiftKey?-1:1,i=o.mapNavButtons[o.focusedMapNavButtonIx],o.setFocusToElement(i.box,i),i.setState(2)}],[[13,32],function(){n(o.mapNavButtons[o.focusedMapNavButtonIx].element)}]],{validate:function(){return o.mapZoom&&o.mapNavButtons&&2===o.mapNavButtons.length},init:function(e){var t=o.mapNavButtons[0],i=o.mapNavButtons[1],n=e>0?t:i;h(o.mapNavButtons,function(e,t){e.element.setAttribute("tabindex",-1),e.element.setAttribute("role","button"),e.element.setAttribute("aria-label","Zoom "+(t?"out ":"")+"chart")}),o.setFocusToElement(n.box,n),n.setState(2),o.focusedMapNavButtonIx=e>0?0:1}}),e("rangeSelector",[[[37,39,38,40],function(e){var t=37===e||38===e?-1:1;if(!o.highlightRangeSelectorButton(o.highlightedRangeSelectorItemIx+t))return this.move(t)}],[[13,32],function(){3!==o.oldRangeSelectorItemState&&n(o.rangeSelector.buttons[o.highlightedRangeSelectorItemIx].element)}]],{validate:function(){return o.rangeSelector&&o.rangeSelector.buttons&&o.rangeSelector.buttons.length},init:function(e){h(o.rangeSelector.buttons,function(e){e.element.setAttribute("tabindex","-1"),e.element.setAttribute("role","button"),e.element.setAttribute("aria-label","Select range "+(e.text&&e.text.textStr))}),o.highlightRangeSelectorButton(e>0?0:o.rangeSelector.buttons.length-1)}}),e("rangeSelectorInput",[[[9,38,40],function(e,t){var i=9===e&&t.shiftKey||38===e?-1:1,n=o.highlightedInputRangeIx=o.highlightedInputRangeIx+i;if(n>1||n<0)return this.move(i);o.rangeSelector[n?"maxInput":"minInput"].focus()}]],{validate:function(){return o.rangeSelector&&o.rangeSelector.inputGroup&&"hidden"!==o.rangeSelector.inputGroup.element.getAttribute("visibility")&&!1!==o.options.rangeSelector.inputEnabled&&o.rangeSelector.minInput&&o.rangeSelector.maxInput},init:function(e){o.highlightedInputRangeIx=e>0?0:1,o.rangeSelector[o.highlightedInputRangeIx?"maxInput":"minInput"].focus()}}),e("legend",[[[37,39,38,40],function(e){var t=37===e||38===e?-1:1;if(!o.highlightLegendItem(o.highlightedLegendItemIx+t))return this.move(t)}],[[13,32],function(){n(o.legend.allItems[o.highlightedLegendItemIx].legendItem.element.parentNode)}]],{validate:function(){return o.legend&&o.legend.allItems&&o.legend.display&&!(o.colorAxis&&o.colorAxis.length)&&!1!==(o.options.legend&&o.options.legend.keyboardNavigation&&o.options.legend.keyboardNavigation.enabled)},init:function(e){h(o.legend.allItems,function(e){e.legendGroup.element.setAttribute("tabindex","-1"),e.legendGroup.element.setAttribute("role","button"),e.legendGroup.element.setAttribute("aria-label",t("Toggle visibility of series "+e.name))}),o.highlightLegendItem(e>0?0:o.legend.allItems.length-1)}})]},e.Chart.prototype.addExitAnchor=function(){var e=this;return e.tabExitAnchor=s.createElement("div"),e.tabExitAnchor.setAttribute("tabindex","0"),d(!0,e.tabExitAnchor.style,{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}),e.renderTo.appendChild(e.tabExitAnchor),l(e.tabExitAnchor,"focus",function(t){var i,n=t||a.event;e.exiting?e.exiting=!1:(e.renderTo.focus(),n.preventDefault(),e.keyboardNavigationModuleIndex=e.keyboardNavigationModules.length-1,(i=e.keyboardNavigationModules[e.keyboardNavigationModuleIndex]).validate&&!i.validate()?i.move(-1):i.init(-1))})},e.Chart.prototype.callbacks.push(function(e){var t=e.options.accessibility;t.enabled&&t.keyboardNavigation.enabled&&(e.addKeyboardNavigationModules(),e.keyboardNavigationModuleIndex=0,e.container.hasAttribute&&!e.container.hasAttribute("tabIndex")&&e.container.setAttribute("tabindex","0"),e.tabExitAnchor||(e.unbindExitAnchorFocus=e.addExitAnchor()),e.unbindKeydownHandler=l(e.renderTo,"keydown",function(t){var i=t||a.event,n=e.keyboardNavigationModules[e.keyboardNavigationModuleIndex];n&&n.run(i)&&i.preventDefault()}),l(e,"destroy",function(){e.unbindExitAnchorFocus&&e.tabExitAnchor&&e.unbindExitAnchorFocus(),e.unbindKeydownHandler&&e.renderTo&&e.unbindKeydownHandler()}))})}(e)});