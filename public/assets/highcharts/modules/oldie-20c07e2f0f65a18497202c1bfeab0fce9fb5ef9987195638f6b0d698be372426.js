"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e,r,i,n,o,s,a,l,h,c,p,d,f,u,y,g,m,v,x,M,S,E,b,C,w,V,A;o=(e=t).Chart,s=e.createElement,a=e.css,l=e.defined,h=e.deg2rad,c=e.discardElement,p=e.doc,d=e.each,f=e.erase,u=e.extend,y=e.extendClass,g=e.isArray,m=e.isNumber,v=e.isObject,x=e.merge,M=e.noop,S=e.pick,E=e.pInt,b=e.svg,C=e.SVGElement,w=e.SVGRenderer,V=e.win,A=e.wrap,e.getOptions().global.VMLRadialGradientURL="http://code.highcharts.com/6.0.3/gfx/vml-radial-gradient.png",p&&!p.defaultView&&(e.getStyle=function(t,r){var i,n={width:"clientWidth",height:"clientHeight"}[r];return t.style[r]?e.pInt(t.style[r]):("opacity"===r&&(r="filter"),n?(t.style.zoom=1,Math.max(t[n]-2*e.getStyle(t,"padding"),0)):(i=t.currentStyle[r.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===r&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===i?1:e.pInt(i)))}),Array.prototype.forEach||(e.forEachPolyfill=function(t,e){for(var r=0,i=this.length;r<i;r++)if(!1===t.call(e,this[r],r,this))return r}),Array.prototype.indexOf||(e.indexOfPolyfill=function(t){var e,r=0;if(t)for(e=t.length;r<e;r++)if(t[r]===this)return r;return-1}),Array.prototype.filter||(e.filterPolyfill=function(t){for(var e=[],r=0,i=this.length;r<i;r++)t(this[r],r)&&e.push(this[r]);return e}),Object.prototype.keys||(e.keysPolyfill=function(t){var e,r=[],i=Object.prototype.hasOwnProperty;for(e in t)i.call(t,e)&&r.push(e);return r}),Array.prototype.reduce||(e.reducePolyfill=function(t,e){for(var r=this,i=e||{},n=this.length,o=0;o<n;++o)i=t.call(r,i,this[o],o,this);return i}),b||(A(e.SVGRenderer.prototype,"text",function(t){return t.apply(this,Array.prototype.slice.call(arguments,1)).css({position:"absolute"})}),e.Pointer.prototype.normalize=function(t,r){return(t=t||V.event).target||(t.target=t.srcElement),r||(this.chartPosition=r=e.offset(this.chart.container)),e.extend(t,{chartX:Math.round(Math.max(t.x,t.clientX-r.left)),chartY:Math.round(t.y)})},o.prototype.ieSanitizeSVG=function(t){return t=t.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},p.createElementNS||(p.createElementNS=function(t,e){return p.createElement(e)}),e.addEventListenerPolyfill=function(t,r){function i(t){t.target=t.srcElement||V,r.call(n,t)}var n=this;n.attachEvent&&(n.hcEventsIE||(n.hcEventsIE={}),r.hcKey||(r.hcKey=e.uniqueKey()),n.hcEventsIE[r.hcKey]=i,n.attachEvent("on"+t,i))},e.removeEventListenerPolyfill=function(t,e){this.detachEvent&&(e=this.hcEventsIE[e.hcKey],this.detachEvent("on"+t,e))},(n={docMode8:p&&8===p.documentMode,init:function(t,e){var r=this,i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],o="div"===e;("shape"===e||o)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",o?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),r.element=s(i)),r.renderer=t},add:function(t){var e=this,r=e.renderer,i=e.element,n=r.box,o=t&&t.inverted,s=t?t.element||t:n;return t&&(this.parentGroup=t),o&&r.invertChild(i,s),s.appendChild(i),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),this.className&&this.attr("class",this.className),e},updateTransform:C.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*h),r=Math.sin(t*h);a(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-r,", M21=",r,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,r,i,n){var o,s=i?Math.cos(i*h):1,l=i?Math.sin(i*h):0,c=S(this.elemHeight,this.element.offsetHeight),p=n&&"left"!==n;this.xCorr=s<0&&-t,this.yCorr=l<0&&-c,o=s*l<0,this.xCorr+=l*e*(o?1-r:r),this.yCorr-=s*e*(i?o?r:1-r:1),p&&(this.xCorr-=t*r*(s<0?-1:1),i&&(this.yCorr-=c*r*(l<0?-1:1)),a(this.element,{textAlign:n}))},pathToVML:function(t){for(var e=t.length,r=[];e--;)m(t[e])?r[e]=Math.round(10*t[e])-5:"Z"===t[e]?r[e]="x":(r[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(r[e+5]===r[e+7]&&(r[e+7]+=t[e+7]>t[e+5]?1:-1),r[e+6]===r[e+8]&&(r[e+8]+=t[e+8]>t[e+6]?1:-1)));return r.join(" ")||"x"},clip:function(t){var e,r,i=this;return t?(e=t.members,f(e,i),e.push(i),i.destroyClip=function(){f(e,i)},r=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),r={clip:i.docMode8?"inherit":"rect(auto)"}),i.css(r)},css:C.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&c(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),C.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=V.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var r;return 9!==(r=(t=t.split(/[ ,]/)).length)&&11!==r||(t[r-4]=t[r-2]=E(t[r-2])-10*e),t.join(" ")},shadow:function(t,e,r){var i,n,o,a,l,h,c,p=[],d=this.element,f=this.renderer,u=d.style,y=d.path;if(y&&"string"!=typeof y.value&&(y="x"),l=y,t){for(h=S(t.width,3),c=(t.opacity||.15)/h,i=1;i<=3;i++)a=2*h+1-2*i,r&&(l=this.cutOffPath(y.value,a+.5)),o=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],n=s(f.prepVML(o),null,{left:E(u.left)+S(t.offsetX,1),top:E(u.top)+S(t.offsetY,1)}),r&&(n.cutOff=a+1),o=['<stroke color="',t.color||"#000000",'" opacity="',c*i,'"/>'],s(f.prepVML(o),null,null,n),e?e.element.appendChild(n):d.parentNode.insertBefore(n,d),p.push(n);this.shadows=p}return this},updateShadows:M,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,r){(r.getElementsByTagName("stroke")[0]||s(this.renderer.prepVML(["<stroke/>"]),null,null,r))[e]=t||"solid",this[e]=t},dSetter:function(t,e,r){var i,n=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),r.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,r){var i=r.nodeName;"SPAN"===i?r.style.color=t:"IMG"!==i&&(r.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,r,e,this)))},"fill-opacitySetter":function(t,e,r){s(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,r)},opacitySetter:M,rotationSetter:function(t,e,r){var i=r.style;this[e]=i[e]=t,i.left=-Math.round(Math.sin(t*h)+1)+"px",i.top=Math.round(Math.cos(t*h))+"px"},strokeSetter:function(t,e,r){this.setAttr("strokecolor",this.renderer.color(t,r,e,this))},"stroke-widthSetter":function(t,e,r){r.stroked=!!t,this[e]=t,m(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,r){"inherit"===t&&(t="visible"),this.shadows&&d(this.shadows,function(r){r.style[e]=t}),"DIV"===r.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(r.style[e]=t?"visible":"hidden"),e="top"),r.style[e]=t},xSetter:function(t,e,r){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):r.style[e]=t},zIndexSetter:function(t,e,r){r.style[e]=t}})["stroke-opacitySetter"]=n["fill-opacitySetter"],e.VMLElement=n=y(C,n),n.prototype.ySetter=n.prototype.widthSetter=n.prototype.heightSetter=n.prototype.xSetter,i={Element:n,isIE8:V.navigator.userAgent.indexOf("MSIE 8.0")>-1,init:function(t,e,r){var i,n,o,s=this;if(s.alignedObjects=[],n=(i=s.createElement("div").css({position:"relative"})).element,t.appendChild(i.element),s.isVML=!0,s.box=n,s.boxWrapper=i,s.gradients={},s.cache={},s.cacheKeys=[],s.imgCount=0,s.setSize(e,r,!1),!p.namespaces.hcv){p.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),o="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{p.createStyleSheet().cssText=o}catch(a){p.styleSheets[0].cssText+=o}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,r,i){var n=this.createElement(),o=v(t);return u(n,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:r)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=t.element,r=e.nodeName,i="shape"===r,n=t.inverted,o=this,s=o.top-(i?e.offsetTop:0),a=o.left,l=a+o.width,h=s+o.height,c={clip:"rect("+Math.round(n?a:s)+"px,"+Math.round(n?h:l)+"px,"+Math.round(n?l:h)+"px,"+Math.round(n?s:a)+"px)"};return!n&&t.docMode8&&"DIV"===r&&u(c,{width:l+"px",height:h+"px"}),c},updateClipping:function(){d(n.members,function(t){t.element&&t.css(n.getCSS(t))})}})},color:function(t,r,i,n){var o,a,l,h=this,c=/^rgba/,p="none";if(t&&t.linearGradient?l="gradient":t&&t.radialGradient&&(l="pattern"),l){var f,u,y,g,m,v,x,M,S,E,b,C,w=t.linearGradient||t.radialGradient,V="",A=t.stops,L=[],I=function(){a=['<fill colors="'+L.join(",")+'" opacity="',M,'" o:opacity2="',x,'" type="',l,'" ',V,'focus="100%" method="any" />'],s(h.prepVML(a),null,null,r)};if(b=A[0],C=A[A.length-1],b[0]>0&&A.unshift([0,b[1]]),C[0]<1&&A.push([1,C[1]]),d(A,function(t,r){c.test(t[1])?(o=e.color(t[1]),f=o.get("rgb"),u=o.get("a")):(f=t[1],u=1),L.push(100*t[0]+"% "+f),r?(M=u,S=f):(x=u,E=f)}),"fill"===i)if("gradient"===l)y=w.x1||w[0]||0,g=w.y1||w[1]||0,m=w.x2||w[2]||0,v=w.y2||w[3]||0,V='angle="'+(90-180*Math.atan((v-g)/(m-y))/Math.PI)+'"',I();else{var N,k=w.r,O=2*k,T=2*k,G=w.cx,P=w.cy,j=r.radialReference,R=function(){j&&(N=n.getBBox(),G+=(j[0]-N.x)/N.width-.5,P+=(j[1]-N.y)/N.height-.5,O*=j[2]/N.width,T*=j[2]/N.height),V='src="'+e.getOptions().global.VMLRadialGradientURL+'" size="'+O+","+T+'" origin="0.5,0.5" position="'+G+","+P+'" color2="'+E+'" ',I()};n.added?R():n.onAdd=R,p=S}else p=f}else if(c.test(t)&&"IMG"!==r.tagName)o=e.color(t),n[i+"-opacitySetter"](o.get("a"),i,r),p=o.get("rgb");else{var z=r.getElementsByTagName(i);z.length&&(z[0].opacity=1,z[0].type="solid"),p=t}return p},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",r=this.isIE8;return t=t.join(""),t=r?-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e):t.replace("<","<hcv:")},text:w.prototype.html,path:function(t){var e={coordsize:"10 10"};return g(t)?e.d=t:v(t)&&u(e,t),this.createElement("shape").attr(e)},circle:function(t,e,r){var i=this.symbol("circle");return v(t)&&(r=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=r,i.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,r,i,n){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:r,width:i,height:n}),o},createElement:function(t){return"rect"===t?this.symbol(t):w.prototype.createElement.call(this,t)},invertChild:function(t,e){var r=this,i=e.style,n="IMG"===t.tagName&&t.style;a(t,{flip:"x",left:E(i.width)-(n?E(n.top):1),top:E(i.height)-(n?E(n.left):1),rotation:-90}),d(t.childNodes,function(e){r.invertChild(e,t)})},symbols:{arc:function(t,e,r,i,n){var o,s=n.start,a=n.end,l=n.r||r||i,h=n.innerR,c=Math.cos(s),p=Math.sin(s),d=Math.cos(a),f=Math.sin(a);return a-s==0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*c,e+l*p,t+l*d,e+l*f],n.open&&!h&&o.push("e","M",t,e),o.push("at",t-h,e-h,t+h,e+h,t+h*d,e+h*f,t+h*c,e+h*p,"x","e"),o.isArc=!0,o)},circle:function(t,e,r,i,n){return n&&l(n.r)&&(r=i=2*n.r),n&&n.isCircle&&(t-=r/2,e-=i/2),["wa",t,e,t+r,e+i,t+r,e+i/2,t+r,e+i/2,"e"]},rect:function(t,e,r,i,n){return w.prototype.symbols[l(n)&&n.r?"callout":"square"].call(0,t,e,r,i,n)}}},e.VMLRenderer=r=function(){this.init.apply(this,arguments)},r.prototype=x(w.prototype,i),e.Renderer=r),w.prototype.measureSpanWidth=function(t,e){var r,i=p.createElement("span"),n=p.createTextNode(t);return i.appendChild(n),a(i,e),this.box.appendChild(i),r=i.offsetWidth,c(i),r}});