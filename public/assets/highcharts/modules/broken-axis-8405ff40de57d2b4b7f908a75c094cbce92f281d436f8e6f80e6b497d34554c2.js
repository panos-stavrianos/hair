"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){function i(){return Array.prototype.slice.call(arguments,1)}function n(t){t.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,s(this.pointArrayMap,["y"]))}var s=t.pick,e=t.wrap,o=t.each,r=t.extend,a=t.isArray,p=t.fireEvent,l=t.Axis,f=t.Series;r(l.prototype,{isInBreak:function(t,i){var n=t.repeat||Infinity,s=t.from,e=t.to-t.from,o=i>=s?(i-s)%n:n-(s-i)%n;return t.inclusive?o<=e:o<e&&0!==o},isInAnyBreak:function(t,i){var n,e,o,r=this.options.breaks,a=r&&r.length;if(a){for(;a--;)this.isInBreak(r[a],t)&&(n=!0,e||(e=s(r[a].showPoints,!this.isXAxis)));o=n&&i?n&&!e:n}return o}}),e(l.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var i,n=this,s=this.tickPositions,e=this.tickPositions.info,o=[];for(i=0;i<s.length;i++)n.isInAnyBreak(s[i])||o.push(s[i]);this.tickPositions=o,this.tickPositions.info=e}}),e(l.prototype,"init",function(t,i,n){var e,r=this;n.breaks&&n.breaks.length&&(n.ordinal=!1),t.call(this,i,n),e=this.options.breaks,r.isBroken=a(e)&&!!e.length,r.isBroken&&(r.val2lin=function(t){var i,n,s=t;for(n=0;n<r.breakArray.length;n++)if((i=r.breakArray[n]).to<=t)s-=i.len;else{if(i.from>=t)break;if(r.isInBreak(i,t)){s-=t-i.from;break}}return s},r.lin2val=function(t){var i,n,s=t;for(n=0;n<r.breakArray.length&&!((i=r.breakArray[n]).from>=s);n++)i.to<s?s+=i.len:r.isInBreak(i,s)&&(s+=i.len);return s},r.setExtremes=function(t,i,n,s,e){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(i);)i-=this.closestPointRange;l.prototype.setExtremes.call(this,t,i,n,s,e)},r.setAxisTranslation=function(t){l.prototype.setAxisTranslation.call(this,t);var i,n,e,a,f=r.options.breaks,h=[],c=[],u=0,k=r.userMin||r.min,y=r.userMax||r.max,m=s(r.pointRangePadding,0);o(f,function(t){n=t.repeat||Infinity,r.isInBreak(t,k)&&(k+=t.to%n-k%n),r.isInBreak(t,y)&&(y-=y%n-t.from%n)}),o(f,function(t){for(e=t.from,n=t.repeat||Infinity;e-n>k;)e-=n;for(;e<k;)e+=n;for(a=e;a<y;a+=n)h.push({value:a,move:"in"}),h.push({value:a+(t.to-t.from),move:"out",size:t.breakSize})}),h.sort(function(t,i){return t.value===i.value?("in"===t.move?0:1)-("in"===i.move?0:1):t.value-i.value}),i=0,e=k,o(h,function(t){1===(i+="in"===t.move?1:-1)&&"in"===t.move&&(e=t.value),0===i&&(c.push({from:e,to:t.value,len:t.value-e-(t.size||0)}),u+=t.value-e-(t.size||0))}),r.breakArray=c,r.unitLength=y-k-u+m,p(r,"afterBreaks"),r.options.staticScale?r.transA=r.options.staticScale:r.unitLength&&(r.transA*=(y-r.min+m)/r.unitLength),m&&(r.minPixelPadding=r.transA*r.minPointOffset),r.min=k,r.max=y})}),e(f.prototype,"generatePoints",function(t){t.apply(this,i(arguments));var n,s=this,e=s.xAxis,o=s.yAxis,r=s.points,a=r.length,p=s.options.connectNulls;if(e&&o&&(e.options.breaks||o.options.breaks))for(;a--;)null===(n=r[a]).y&&!1===p||!e.isInAnyBreak(n.x,!0)&&!o.isInAnyBreak(n.y,!0)||(r.splice(a,1),this.data[a]&&this.data[a].destroyElements())}),t.Series.prototype.drawBreaks=function(t,i){var n,e,r,a,l=this,f=l.points;t&&o(i,function(i){n=t.breakArray||[],e=t.isXAxis?t.min:s(l.options.threshold,t.min),o(f,function(l){a=s(l["stack"+i.toUpperCase()],l[i]),o(n,function(i){r=!1,e<i.from&&a>i.to||e>i.from&&a<i.from?r="pointBreak":(e<i.from&&a>i.from&&a<i.to||e>i.from&&a>i.to&&a<i.from)&&(r="pointInBreak"),r&&p(t,r,{point:l,brk:i})})})})},t.Series.prototype.gappedPath=function(){var i,n=this.options.gapSize,s=this.points.slice(),e=s.length-1,o=this.yAxis;if(n&&e>0)for("value"!==this.options.gapUnit&&(n*=this.closestPointRange);e--;)s[e+1].x-s[e].x>n&&(i=(s[e].x+s[e+1].x)/2,s.splice(e+1,0,{isNull:!0,x:i}),this.options.stacking&&((o.stacks[this.stackKey][i]=new t.StackItem(o,o.options.stackLabels,!1,i,this.stack)).total=0));return this.getGraphPath(s)},e(t.seriesTypes.column.prototype,"drawPoints",n),e(t.Series.prototype,"drawPoints",n)}(t)});