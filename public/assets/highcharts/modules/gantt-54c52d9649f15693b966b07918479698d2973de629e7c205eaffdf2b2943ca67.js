"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var i,e,a,r,o,s,n,l,h,p;e=(i=t).dateFormat,a=i.each,r=i.isObject,o=i.pick,s=i.wrap,n=i.Axis,l=i.Chart,h=i.Tick,p={top:0,right:1,bottom:2,left:3,0:"top",1:"right",2:"bottom",3:"left"},n.prototype.isOuterAxis=function(){var t=this,i=-1,e=!0;return a(this.chart.axes,function(a,r){if(a.side===t.side)if(a===t)i=r;else if(i>=0&&r>i)return void(e=!1)}),e},h.prototype.getLabelWidth=function(){return this.label.getBBox().width},n.prototype.getMaxLabelLength=function(t){var i=this.tickPositions,e=this.ticks,r=0;return this.maxLabelLength&&!t||(a(i,function(t){(t=e[t])&&t.labelLength>r&&(r=t.labelLength)}),this.maxLabelLength=r),this.maxLabelLength},n.prototype.addTitle=function(){var t,i,e,a=this,r=a.chart.renderer,s=a.axisParent,n=a.horiz,l=a.opposite,h=a.options,p=h.title;t=a.hasData(),a.showAxis=i=t||o(h.showEmpty,!0),h.title="",a.axisTitle||((e=p.textAlign)||(e=(n?{low:"left",middle:"center",high:"right"}:{low:l?"right":"left",middle:"center",high:l?"left":"right"})[p.align]),a.axisTitle=r.text(p.text,0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:e}).addClass("highcharts-axis-title").css(p.style).add(s),a.axisTitle.isNew=!0),a.axisTitle[i?"show":"hide"](!0)},i.dateFormats={W:function(t){var i,e=new Date(t),a=0===e.getUTCDay()?7:e.getUTCDay(),r=e.getTime(),o=new Date(e.getUTCFullYear(),0,1,-6);return e.setDate(e.getUTCDate()+4-a),i=Math.floor((r-o)/864e5),1+Math.floor(i/7)},E:function(t){return e("%a",t,!0).charAt(0)}},s(h.prototype,"addLabel",function(t){var i=this.axis,e=i.options.categories!==undefined,a=i.tickPositions,r=a[a.length-1],o=this.pos!==r;(!i.options.grid||e||o)&&t.apply(this)}),s(h.prototype,"getLabelPosition",function(t,i,e,a){var r,o,s,n,l,h,c,d,g=t.apply(this,Array.prototype.slice.call(arguments,1)),x=this.axis,u=x.options,y=u.tickInterval||1;return u.grid&&(n=u.labels.style.fontSize,h=(l=x.chart.renderer.fontMetrics(n,a)).b,c=l.h,x.horiz&&u.categories===undefined?(s=x.axisGroup.getBBox().height,o=this.pos+y/2,g.x=x.translate(o)+x.left,d=s/2+c/2-Math.abs(c-h),x.side===p.top?g.y=e-d:g.y=e+d):(u.categories===undefined&&(o=this.pos+y/2,g.y=x.translate(o)+x.top+h/2),r=this.getLabelWidth()/2-x.maxLabelLength/2,x.side===p.left?g.x+=r:g.x-=r)),g}),s(n.prototype,"tickSize",function(t){var i,e,a=this,r=t.apply(a,Array.prototype.slice.call(arguments,1));return a.options.grid&&!a.horiz&&(i=2*Math.abs(a.defaultLeftAxisOptions.labels.x),a.maxLabelLength||(a.maxLabelLength=a.getMaxLabelLength()),e=a.maxLabelLength+i,r[0]=e),r}),s(n.prototype,"getOffset",function(t){var i,e,a=this,s=a.chart.axisOffset,n=a.side,l=a.options,h=l.title,p=h&&h.text&&!1!==h.enabled;a.options.grid&&r(a.options.title)?(e=a.tickSize("tick")[0],s[n]&&e&&(i=s[n]+e),p&&a.addTitle(),t.apply(a,Array.prototype.slice.call(arguments,1)),s[n]=o(i,s[n]),l.title=h):t.apply(a,Array.prototype.slice.call(arguments,1))}),s(n.prototype,"renderUnsquish",function(t){this.options.grid&&(this.labelRotation=0,this.options.labels.rotation=0),t.apply(this)}),s(n.prototype,"setOptions",function(t,i){var e=this;i.grid&&e.horiz&&(i.startOnTick=!0,i.minPadding=0,i.endOnTick=!0),t.apply(this,Array.prototype.slice.call(arguments,1))}),s(n.prototype,"render",function(t){var i,e,a,r,o,s,n,l,h,c=this,d=c.options,g=c.chart.renderer;d.grid?(i=2*Math.abs(c.defaultLeftAxisOptions.labels.x),e=c.maxLabelLength+i,a=d.lineWidth,c.rightWall&&c.rightWall.destroy(),t.apply(c),h=c.axisGroup.getBBox(),c.horiz&&(c.rightWall=g.path(["M",h.x+c.width+1,h.y,"L",h.x+c.width+1,h.y+h.height]).attr({stroke:d.tickColor||"#ccd6eb","stroke-width":d.tickWidth||1,zIndex:7,"class":"grid-wall"}).add(c.axisGroup)),c.isOuterAxis()&&c.axisLine&&(c.horiz&&(e=h.height-1),a&&(n=(r=c.getLinePath(a)).indexOf("M")+1,l=r.indexOf("L")+1,o=r.indexOf("M")+2,s=r.indexOf("L")+2,c.side!==p.top&&c.side!==p.left||(e=-e),c.horiz?(r[o]=r[o]+e,r[s]=r[s]+e):(r[n]=r[n]+e,r[l]=r[l]+e),c.axisLineExtra?c.axisLineExtra.animate({d:r}):c.axisLineExtra=g.path(r).attr({stroke:d.lineColor,"stroke-width":a,zIndex:7}).add(c.axisGroup),c.axisLine[c.showAxis?"show":"hide"](!0)))):t.apply(c)}),s(l.prototype,"render",function(t){var i,e,r=25/11;a(this.axes,function(t){var a=t.options;a.grid&&(e=a.labels.style.fontSize,i=t.chart.renderer.fontMetrics(e),"datetime"===a.type&&(a.units=[["millisecond",[1]],["second",[1]],["minute",[1]],["hour",[1]],["day",[1]],["week",[1]],["month",[1]],["year",null]]),t.horiz?a.tickLength=a.cellHeight||i.h*r:(a.tickWidth=1,a.lineWidth||(a.lineWidth=1)))}),t.apply(this)}),function(t){var i=t.defined,e=t.Color,a=t.seriesTypes.column,r=t.each,o=t.isNumber,s=t.isObject,n=t.merge,l=t.pick,h=t.seriesType,p=t.seriesTypes,c=t.wrap,d=t.Axis,g=t.Point,x=t.Series;h("xrange","column",{colorByPoint:!0,dataLabels:{verticalAlign:"middle",inside:!0,formatter:function(){var t=this.point.partialFill;return s(t)&&(t=t.amount),i(t)||(t=0),100*t+"%"}},tooltip:{headerFormat:'<span style="font-size: 0.85em">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0},{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:p.line.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,getColumnMetrics:function(){function t(){r(e.series,function(t){var i=t.xAxis;t.xAxis=t.yAxis,t.yAxis=i})}var i,e=this.chart;return t(),i=a.prototype.getColumnMetrics.call(this),t(),i},cropData:function(t,i,e,a){var r=x.prototype.cropData.call(this,this.x2Data,i,e,a);return r.xData=t.slice(r.start,r.end),r},translatePoint:function(t){var i,e,a,r,h,p,c=this,d=c.xAxis,g=c.columnMetrics,x=c.options.minPointLength||0,u=t.plotX,y=l(t.x2,t.x+(t.len||0)),f=d.translate(y,0,0,0,1),m=f-u,b=this.chart.inverted,L=l(c.options.borderWidth,1)%2/2;x&&((i=x-m)<0&&(i=0),u-=i/2,f+=i/2),u=Math.max(u,-10),f=Math.min(Math.max(f,-10),d.len+10),t.shapeArgs={x:Math.floor(Math.min(u,f))+L,y:Math.floor(t.plotY+g.offset)+L,width:Math.round(Math.abs(f-u)),height:Math.round(g.width),r:c.options.borderRadius},h=(r=t.shapeArgs.x)+t.shapeArgs.width,r<0||h>d.len?(r=Math.min(d.len,Math.max(0,r)),p=(h=Math.max(0,Math.min(h,d.len)))-r,t.dlBox=n(t.shapeArgs,{x:r,width:h-r,centerX:p?p/2:null})):t.dlBox=null,t.tooltipPos[0]+=b?0:m/2,t.tooltipPos[1]-=b?m/2:g.width/2,(a=t.partialFill)&&(s(a)&&(a=a.amount),o(a)||(a=0),e=t.shapeArgs,t.partShapeArgs={x:e.x,y:e.y,width:e.width,height:e.height,r:c.options.borderRadius},t.clipRectArgs={x:e.x,y:e.y,width:Math.round(e.width*a),height:e.height})},translate:function(){a.prototype.translate.apply(this,arguments),r(this.points,function(t){this.translatePoint(t)},this)},drawPoint:function(t,i){var a,r=this,o=r.options,l=r.chart.renderer,h=t.graphic,p=t.shapeType,c=t.shapeArgs,d=t.partShapeArgs,g=t.clipRectArgs,x=t.partialFill,u=t.selected&&"select",y=o.stacking&&!o.borderRadius;t.isNull?h&&(t.graphic=h.destroy()):(h?t.graphicOriginal[i](n(c)):(t.graphic=h=l.g("point").addClass(t.getClassName()).add(t.group||r.group),t.graphicOriginal=l[p](c).addClass(t.getClassName()).addClass("highcharts-partfill-original").add(h)),d&&(t.graphicOverlay?(t.graphicOverlay[i](n(d)),t.clipRect.animate(n(g))):(t.clipRect=l.clipRect(g.x,g.y,g.width,g.height),t.graphicOverlay=l[p](d).addClass("highcharts-partfill-overlay").add(h).clip(t.clipRect))),t.graphicOriginal.attr(r.pointAttribs(t,u)).shadow(o.shadow,null,y),d&&(s(x)||(x={}),s(o.partialFill)&&(x=n(x,o.partialFill)),a=x.fill||e(t.color||r.color).brighten(-.3).get(),t.graphicOverlay.attr(r.pointAttribs(t,u)).attr({fill:a}).shadow(o.shadow,null,y)))},drawPoints:function(){var t=this,i=this.chart,e=t.options.animationLimit||250,a=i.pointCount<e?"animate":"attr";r(t.points,function(i){t.drawPoint(i,a)})}},{init:function(){g.prototype.init.apply(this,arguments);var t,i=this.series,e=i.chart.options.chart.colorCount;return this.y||(this.y=0),i.options.colorByPoint&&(e=(t=i.options.colors||i.chart.options.colors).length,!this.options.color&&t[this.y%e]&&(this.color=t[this.y%e])),this.colorIndex=this.y%e,this},getLabelConfig:function(){var t=this,i=g.prototype.getLabelConfig.call(t),e=t.series.yAxis.categories;return i.x2=t.x2,i.yCategory=t.yCategory=e&&e[t.y],i},tooltipDateKeys:["x","x2"],isValid:function(){return"number"==typeof this.x&&"number"==typeof this.x2}}),c(d.prototype,"getSeriesExtremes",function(t){var i,e,a=this,o=a.series;t.call(a),a.isXAxis&&(i=l(a.dataMax,-Number.MAX_VALUE),r(o,function(t){t.x2Data&&r(t.x2Data,function(t){t>i&&(i=t,e=!0)})}),e&&(a.dataMax=i))})}(t)});