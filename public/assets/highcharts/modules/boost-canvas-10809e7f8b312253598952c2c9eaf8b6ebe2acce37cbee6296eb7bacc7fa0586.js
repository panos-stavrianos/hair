"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){var t,i,n,r,o,a,s,c,l,d,h,p,u,g,v,f;n=(t=e).win.document,r=function(){},o=t.Color,a=t.Series,s=t.seriesTypes,c=t.each,l=t.extend,d=t.addEvent,h=t.fireEvent,p=t.isNumber,u=t.merge,g=t.pick,v=t.wrap,f=5e4,t.initCanvasBoost=function(){t.seriesTypes.heatmap&&t.wrap(t.seriesTypes.heatmap.prototype,"drawPoints",function(){var e=this.getContext();e?(c(this.points,function(t){var i,n,r=t.plotY;r===undefined||isNaN(r)||null===t.y||(i=t.shapeArgs,n=t.series.pointAttribs(t),e.fillStyle=n.fill,e.fillRect(i.x,i.y,i.width,i.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}),t.extend(a.prototype,{getContext:function(){var e,i=this.chart,r=i.chartWidth,o=i.chartHeight,a=i.seriesGroup||this.group,s=this,l=function(e,t,i,n,r,o,a){e.call(this,i,t,n,r,o,a)};return i.isChartSeriesBoosting()&&(s=i,a=i.seriesGroup),e=s.ctx,s.canvas?t.Chart:(s.canvas=n.createElement("canvas"),s.renderTarget=i.renderer.image("",0,0,r,o).add(a),s.ctx=e=s.canvas.getContext("2d"),i.inverted&&c(["moveTo","lineTo","rect","arc"],function(t){v(e,t,l)}),s.boostClear=function(){e.clearRect(0,0,s.canvas.width,s.canvas.height),s.renderTarget&&s.renderTarget.attr({href:""})},s.boostClipRect=i.renderer.clipRect(),s.renderTarget.clip(s.boostClipRect)),s.canvas.width!==r&&(s.canvas.width=r),s.canvas.height!==o&&(s.canvas.height=o),s.renderTarget.attr({x:0,y:0,width:r,height:o,style:"pointer-events: none",href:""}),s.boostClipRect.attr(i.getBoostClipRect(s)),e},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear():this.renderTarget.attr({href:this.canvas.toDataURL("image/png")})},cvsLineTo:function(e,t,i){e.lineTo(t,i)},renderCanvas:function(){var e,n,a,s,c,v,m,y,T,b,x=this,C=x.options,w=x.chart,S=this.xAxis,k=this.yAxis,M=w.options.boost||{},R={timeRendering:M.timeRendering||!1,timeSeriesProcessing:M.timeSeriesProcessing||!1,timeSetup:M.timeSetup||!1},D=0,P=x.processedXData,G=x.processedYData,A=C.data,L=S.getExtremes(),B=L.min,E=L.max,N=k.getExtremes(),X=N.min,Y=N.max,O={},V=!!x.sampling,W=C.marker&&C.marker.radius,q=this.cvsDrawPoint,H=!!C.lineWidth&&this.cvsLineTo,I=W&&W<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,K=this.cvsStrokeBatch||1e3,U=!1!==C.enableMouseTracking,j=C.threshold,z=k.getThreshold(j),J=p(j),_=z,F=this.fill,Q=x.pointArrayMap&&"low,high"===x.pointArrayMap.join(","),Z=!!C.stacking,$=x.cropStart||0,ee=w.options.loading,te=x.requireSorting,ie=C.connectNulls,ne=!P,re=Z?x.data:P||A,oe=x.fillOpacity?new o(x.color).setOpacity(g(C.fillOpacity,.75)).get():x.color,ae=function(){F?(e.fillStyle=oe,e.fill()):(e.strokeStyle=x.color,e.lineWidth=C.lineWidth,e.stroke())},se=function(t,i,n,r){0===D&&(e.beginPath(),H&&(e.lineJoin="round")),w.scroller&&"highcharts-navigator-series"===x.options.className?(i+=w.scroller.top,n&&(n+=w.scroller.top)):i+=w.plotTop,t+=w.plotLeft,c?e.moveTo(t,i):q?q(e,t,i,n,s):H?H(e,t,i):I&&I.call(x,e,t,i,W,r),(D+=1)===K&&(ae(),D=0),s={clientX:t,plotY:i,yBottom:n}},ce=function(e,t,i){b=e+","+t,U&&!O[b]&&(O[b]=!0,w.inverted&&(e=S.len-e,t=k.len-t),a.push({clientX:e,plotX:e,plotY:t,i:$+i}))};(this.points||this.graph)&&this.destroyGraphics(),x.plotGroup("group","series",x.visible?"visible":"hidden",C.zIndex,w.seriesGroup),x.markerGroup=x.group,d(x,"destroy",function(){x.markerGroup=null}),a=this.points=[],e=this.getContext(),x.buildKDTree=r,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.visible&&(A.length>99999&&(w.options.loading=u(ee,{labelStyle:{backgroundColor:t.color("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),clearTimeout(i),w.showLoading("Drawing..."),w.options.loading=ee),R.timeRendering&&console.time("canvas rendering"),t.eachAsync(re,function(e,t){var i,r,o,a,s,l,d=!1,h=!1,p=!1,u=!1,g="undefined"==typeof w.index,b=!0;return g||(ne?(i=e[0],r=e[1],re[t+1]&&(p=re[t+1][0]),re[t-1]&&(u=re[t-1][0])):(i=e,r=G[t],re[t+1]&&(p=re[t+1]),re[t-1]&&(u=re[t-1])),p&&p>=B&&p<=E&&(d=!0),u&&u>=B&&u<=E&&(h=!0),Q?(ne&&(r=e.slice(1,3)),l=r[0],r=r[1]):Z&&(i=e.x,l=(r=e.stackY)-e.y),te||(b=r>=X&&r<=Y),!(s=null===r)&&(i>=B&&i<=E&&b||d||h)&&(o=Math.round(S.toPixels(i,!0)),V?(y!==undefined&&o!==n||(Q||(l=r),(T===undefined||r>m)&&(m=r,T=t),(y===undefined||l<v)&&(v=l,y=t)),o!==n&&(y!==undefined&&(a=k.toPixels(m,!0),z=k.toPixels(v,!0),se(o,J?Math.min(a,_):a,J?Math.max(z,_):z,t),ce(o,a,T),z!==a&&ce(o,z,y)),y=T=undefined,n=o)):(a=Math.round(k.toPixels(r,!0)),se(o,a,z,t),ce(o,a,t))),c=s&&!ie,t%f==0&&x.canvasToSVG()),!g},function(){var e=w.loadingDiv,t=w.loadingShown;ae(),x.canvasToSVG(),R.timeRendering&&console.timeEnd("canvas rendering"),h(x,"renderedCanvas"),t&&(l(e.style,{transition:"opacity 250ms",opacity:0}),w.loadingShown=!1,i=setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e),w.loadingDiv=w.loadingSpan=null},250)),delete x.buildKDTree,x.buildKDTree()},w.renderer.forExport?Number.MAX_VALUE:undefined))}}),s.scatter.prototype.cvsMarkerCircle=function(e,t,i,n){e.moveTo(t,i),e.arc(t,i,n,0,2*Math.PI,!1)},s.scatter.prototype.cvsMarkerSquare=function(e,t,i,n){e.rect(t-n,i-n,2*n,2*n)},s.scatter.prototype.fill=!0,s.bubble&&(s.bubble.prototype.cvsMarkerCircle=function(e,t,i,n,r){e.moveTo(t,i),e.arc(t,i,this.radii&&this.radii[r],0,2*Math.PI,!1)},s.bubble.prototype.cvsStrokeBatch=1),l(s.area.prototype,{cvsDrawPoint:function(e,t,i,n,r){r&&t!==r.clientX&&(e.moveTo(r.clientX,r.yBottom),e.lineTo(r.clientX,r.plotY),e.lineTo(t,i),e.lineTo(t,n))},fill:!0,fillOpacity:!0,sampling:!0}),l(s.column.prototype,{cvsDrawPoint:function(e,t,i,n){e.rect(t-1,i,1,n-i)},fill:!0,sampling:!0}),t.Chart.prototype.callbacks.push(function(e){function t(){e.renderTarget&&e.canvas&&e.renderTarget.attr({href:e.canvas.toDataURL("image/png")})}function i(){e.renderTarget&&e.renderTarget.attr({href:""}),e.canvas&&e.canvas.getContext("2d").clearRect(0,0,e.canvas.width,e.canvas.height)}d(e,"predraw",i),d(e,"render",t)})}});