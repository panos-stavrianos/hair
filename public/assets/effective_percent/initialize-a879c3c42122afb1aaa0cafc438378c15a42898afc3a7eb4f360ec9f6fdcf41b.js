(function(){$(document).on("keydown","input[type='text'].effective_percent",function(e){var t;if(t=["0","1","2","3","4","5","6","7","8","9","-","."],e.key&&1===e.key.length&&!1===e.metaKey&&-1===t.indexOf(e.key))return e.preventDefault()}),$(document).on("change keyup","input[type='text'].effective_percent",function(e){var t,n;return""!==(n=(t=$(e.target)).val())&&(n=(1e3*parseFloat(n||0)).toFixed(0)),t.siblings("input[type='hidden']").first().val(n)}),$(document).on("change","input[type='text'].effective_percent",function(e){var t,n,i;return n=1e5,""!==(i=(t=$(e.target)).siblings("input[type='hidden']").first().val())&&((i=parseInt(i||0))>n&&(i=n,t.siblings("input[type='hidden']").first().val(n)),i<-n&&(i=-n,t.siblings("input[type='hidden']").first().val(-n)),0!==i&&(i/=1e3),(i=i.toFixed(3).toString()).endsWith(".000")&&(i=i.replace(".000",""))),t.val(i)})}).call(this);