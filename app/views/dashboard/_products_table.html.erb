<div class="x_panel">
  <div class="x_title">
    <h2>Products</h2>
    <div class="clearfix"></div>
  </div>
  <div class="x_content">
    <table id="datatable-customer_products" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
      <thead>
      <tr>
        <th>Name</th>
        <th>Product</th>
        <th>Amount - Price</th>
        <th>Comment</th>
        <th>Date</th>
        <th>Delete</th>
      </tr>
      </thead>
      <tbody>
      <% @customer_products.each {|record| %>
        <tr>
          <%= row(record.customer.name) %>
          <%= row(record.product.to_s_name_description) %>
          <%= row_with_tooltip(record.amount_price,
                               record.price_tooltip,
                               "data-sort='#{record.total_paid}'") %>
          <%= row(record.comment) %>
          <%= row_with_tooltip(record.created_at_s,
                               time_ago_in_words(record.created_at),
                               "data-sort='#{record.created_at}'") %>
          <%= delete_row(destroy_customer_product_path(record)) %>

        </tr>
      <% } %>
      </tbody>
    </table>
  </div>
</div>

<script>
    $('#datatable-customer_products').DataTable(
        {
            "order": [4],
            "columnDefs": [
                {"width": "50px", "targets": [5], "orderable": false, "className": "text-center"}
            ]
        }
    );

</script>









